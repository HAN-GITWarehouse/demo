/*! For license information please see game-animation.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Games=t():e.Games=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>B});class o extends PIXI.Application{constructor(e){super({width:e.width,height:e.height,antialias:!0,transparent:1,resolution:3,roundPixels:!0}),console.log("pixi utils is mobile: ",PIXI.utils.isMobile),console.log("pixi WebGL Supported:",PIXI.utils.isWebGLSupported()),console.log("pixi utils url:",PIXI.utils.url),console.log("pixi utils url:",PIXI.utils.url),this.renderer.view.style.position="static",this.renderer.view.style.display="block",this.renderer.view.style.margin="auto",this.renderer.autoResize=!0,this.stage.sortableChildren=!0;const t=()=>{const t=960/540;let o=Math.max(e.element.clientWidth||0,e.element.innerWidth||0,e.element.offsetWidth||0),n=Math.max(e.element.clientHeight||0,e.element.innerHeight||0,e.element.offsetHeight||0);o/n>=t?o=n*t:n=o/t,console.log(`resize: cw: 960, ch: 540, vw:${o}, vh:${n}, ration:${t}`),this.renderer.view.style.width=o+"px",this.renderer.view.style.height=n+"px"};window.onresize=t.bind(this),window.addEventListener("resize",t.bind(this)),t()}}class n{constructor(e){this._options=e,this._tween=createjs.Tween.get(e.target,{loop:void 0!==e.loop&&e.loop}),this.run()}get options(){return this._options}get tween(){return this._tween}run(){const e=this._options;console.log("action options:",e),void 0!==e.frame&&null!==e.frame&&void 0!==e.target&&null!==e.target&&(console.log(`action(frame[${e.frame.id}]) start`),void 0!==e.frame.tweens&&null!==e.frame.tweens&&"object"==typeof e.frame.tweens&&void 0!==e.frame.tweens.to&&Array.isArray(e.frame.tweens.to)&&null!==e.frame.tweens.to[0]?(void 0===e.frame.tweens.to[0].p||void 0===e.frame.tweens.to[0].p.alpha?e.target.alpha=1:e.target.alpha=e.frame.tweens.to[0].p.alpha,void 0!==e.frame.tweens.wait&&null!==e.frame.tweens.wait&&Number.isInteger(e.frame.tweens.wait)&&(console.log(`action(frame[${e.frame.id}])  to: `,e.frame.tweens),this._tween.wait(e.frame.tweens.wait)),console.log(`action(frame[${e.frame.id}])  to: `,e.frame.tweens),e.frame.tweens.to.forEach((t=>{console.log(`action(frame[${e.frame.id}])  to: `,t),this._tween.to(t.p,t.s,createjs.Ease.getPowInOut(4))})),this._tween.label("last"),void 0!==e.complete&&this._tween.call(e.complete),console.log(`action(frame[${e.frame.id}]) end, frame[${e.frame.id}]`)):e.target.alpha=void 0===e.frame.frame||void 0===e.frame.frame.alpha||null===e.frame.frame.alpha?e.target.alpha=1:e.frame.frame.alpha)}}const s={default:{fontFamily:"Blue Sky Noto-Regular",fontSize:15,fontWeight:"bold"},title:{fontFamily:"Blue Sky Noto-Regular",fontSize:20},"title-en":{fontFamily:"Blue Sky Noto-Light",fontSize:20,fontWeight:"bold"},"text-little-en":{fontFamily:"Blue Sky Noto-Light",fontSize:10},text:{fontFamily:"Blue Sky Noto-Light",fontSize:12,lineHeight:20,letterSpacing:1},"text-en":{fontFamily:"Blue Sky Noto-Light",fontSize:12},"text-en-h":{fontFamily:"Blue Sky Noto-Light",fontSize:12,lineHeight:20,letterSpacing:1},"title-highlight":{fontFamily:"Blue Sky Noto-Light",fontSize:18,fill:"#48BEBE"},"title-highlight-en":{fontFamily:"Blue Sky Noto-Light",fontSize:15,fill:"#48BEBE"},"title-letter":{fontFamily:"Blue Sky Noto-Regular",fontSize:18},"title-letter-en":{fontFamily:"Blue Sky Noto-Light",fontSize:15},"blue-ligth-20":{fontFamily:"Blue Sky Noto-Light",fontSize:20},"blue-ligth-20-bold":{fontFamily:"Blue Sky Noto-Light",fontSize:20,fontWeight:"bold"},"blue-ligth-15":{fontFamily:"Blue Sky Noto-Light",fontSize:15},"blue-ligth-15-b":{fontFamily:"Blue Sky Noto-Light",fontSize:15,fill:"#48BEBE"},"blue-ligth-10":{fontFamily:"Blue Sky Noto-Light",fontSize:10},"blue-ligth-10-h":{fontFamily:"Blue Sky Noto-Light",lineHeight:17,fontSize:10},"blue-ligth-10-b":{fontFamily:"Blue Sky Noto-Light",fontSize:10,fill:"#48BEBE"}},i=(e,t)=>`/assets/pages/${e}/pc/${t}`;class a extends PIXI.Graphics{constructor(e){super();const t=e.el.drawings,o=e=>{console.log(`drawing control, method: ${e.method}, args:`,e.args,this[e.method]),e.args.forEach(((t,o)=>{console.log(`drawing control, check is hex args(${t}):`,/^0x[0-9A-F]{6}$/i.test(t)),e.args[o]=/^0x[0-9A-F]{6}$/i.test(t)?parseInt(t,16):t})),console.log("drawing control, format args:",e.args),Reflect.apply(this[e.method],this,e.args)};t.forEach((e=>{this.beginFill(e.color,e.alpha),e.drawing.forEach(o.bind(this)),this.endFill()}))}test(e){console.log("drawing control, this is test.")}}class l extends PIXI.Container{constructor(e){super(),this._options=e,this.addContent(e.frame)}getStyle(e){return s[e]}reloadContent(e){this._options=e,this.children.forEach((e=>{e.parent.removeChild(e)})),this.addContent(e.frame)}addContent(e){console.log("data:",e),this.name=e.id,this.x=e.frame.x,this.y=e.frame.y;let t=[];if(Array.isArray(e.content))t=e.content;else{let o={p:{x:e.frame.x,y:e.frame.y}};"img"==e.type?e.url=e.content:e.text=e.content,t.push(o)}console.log("sprite add content, frame content: ",e.content,t),t.forEach(this.addItems.bind(this))}addItems(e){if(console.log("sprite add item, el: ",e),void 0===e.type)return;if("txt"===e.type){const t=void 0!==e["style-type"]?this.getStyle(e["style-type"]):e.style;console.log("sprite add item, style: ",e.text,t),PIXI.utils.isMobile.apple.device&&("bold"===t.fontWeight?t.letterSpacing=-1.4:t.letterSpacing=-.2,console.log("sprite add item, apple, style: ",e.text,t));const o=new PIXI.Text(e.text,new PIXI.TextStyle(t));return console.log("sprite add item, el.p: ",e.p,e),void 0!==e.p&&(o.x=e.p.x,o.y=e.p.y),void this.addChild(o)}const t={el:e,base_url:i(this._options.texture.id,this._options.texture.lang),frame:this._options.frame,texture:this._options.texture};switch(console.log(`sprite add item, img: ${e.url}, type: ${e.type} `,e),e.type){case"ant":console.log("sprite add item, to create animated sprite: ",e),this.createAnimatedSprite(t);break;case"img":this.loadImageTexture(t);break;case"draw":const o=new a({el:e});this.setting(Object.assign(t,{sprite:o})),this.addChild(o)}}createAnimatedSprite(e){if(console.log("sprite create animated sprite, options: ",e),void 0===e.el.range)return new PIXI.Text("未找到动画的rang配置");const t=new PIXI.Loader,o=e.el,n=[],s=o.range;for(let n=s.start;n<=s.end;n++){if(n>1e3||n<0)return new PIXI.Text("未找到动画的rang配置");const s=`${e.base_url}/${o.url}.${n}.jpg`;t.add(`${o.url}-${n}`,s)}t.load(),t.onComplete.add(((t,s)=>{console.log("sprite create animated sprite, resources: ",s),Object.keys(s).forEach((e=>{console.log("sprite create animated sprite, resource: ",s[e].texture),n.push(s[e].texture)}));const i=new PIXI.AnimatedSprite(n);this.setting(Object.assign(e,{sprite:i,base_texture:n[0].baseTexture})),i.loop=void 0!==o.loop&&o.loop,i.animationSpeed=.5,i.play(),this.addChild(i)}).bind(this))}loadImageTexture(e){console.log("sprite add item, options: ",e);const t=e.el;let o=`${i(this._options.texture.id,this._options.texture.lang)}/`;console.log("sprite add item, img, el: ",t),o="object"==typeof t?`${o}${t.url}`:`${o}${t}`;let n=new PIXI.BaseTexture(o);const s=this.createImageSprite.bind(this);if(n.hasLoaded)return console.log("sprite add item, base texture has loaded: ",o),void this.addChild(s(Object.assign(e,{url:o,base_texture:new PIXI.Texture(n)})));n.on("loaded",(()=>{const t=s(Object.assign(e,{url:o,base_texture:new PIXI.Texture(n)}));console.log("sprite add item, base texture load complete: ",o,t,this),this.addChild(t)}).bind(this))}createImageSprite(e){console.log(`sprite create image(${e.url}) sprite, options:`,e),console.log(`sprite create image(${e.url}) sprite, texture w:${e.texture.width}, h: ${e.texture.height}`);const t=new PIXI.Sprite(e.base_texture);return console.log("sprite create image(${options.url}) sprite: ",t,e.base_texture),console.log(`sprite create image(${e.url}) sprite, bitmap w:${t.width}, h: ${t.height}`),this.setting(Object.assign(e,{sprite:t,base_texture:e.base_texture})),t}setting(e){console.log("sprite setting, options: ",e);const t=e.el,o=e.frame,n=e.sprite;void 0!==t.flow&&null!==t.flow&&(n.interactive=!0,n.on("pointerdown",(e=>{location.href=t.flow}))),void 0===o.sourceSize&&(o.sourceSize={}),void 0!==e.base_texture&&(console.log("sprite setting, base_texture: ",e.base_texture),o.sourceSize.w=e.base_texture.width,o.sourceSize.h=e.base_texture.height),console.log("sprite setting, data.sourceSize.scale.ratio: ",o.sourceSize,o),void 0===o.sourceSize.scale||void 0===o.sourceSize.scale.ratio?(console.log("sprite setting, data.sourceSize.scale.ratio: no exists."),void 0!==o.frame.w&&(n.width=o.frame.w),void 0!==o.frame.h&&(n.height=o.frame.h)):(console.log("sprite setting, data.sourceSize.scale.ratio:",o.sourceSize.scale.ratio),n.scale.set(o.sourceSize.scale.ratio)),void 0===o.tweens||null===o.tweens?(this.x=o.frame.x,this.y=o.frame.y):void 0!==o.tweens.to&&Array.isArray(o.tweens.to)&&o.tweens.to.length>0&&null!==o.tweens.to[0]&&void 0!==o.tweens.to[0].p&&(this.x=o.tweens.to[0].p.x,this.y=o.tweens.to[0].p.y,void 0!==o.tweens.to[0].p.alpha?this.alpha=o.tweens.to[0].p.alpha:this.alpha=1),console.log("sprite setting, complete.")}}class r{constructor(e){}}const c=()=>JSON.parse('\n    {\n      "id": "44efbeb7-c354-4210-a619-156ca8073001",\n      "name": null,\n      "rotated": 0,\n      "trimmed": 1,\n      "texture_id": "22875a3d-ea08-46d4-aafe-5fce1848b2ab",\n      "animation": null,\n      "tweens": null,\n      "style": {\n        "animation": "bounceInUp 0.5s 2s ease both",\n        "marginLeft": "4vw",\n        "width": "26vw"\n      },\n      "label": null,\n      "type": "img",\n      "content": null,\n      "flow": null,\n      "frame": {\n        "id": "d377e3cc-26d3-4aaa-9d3a-44e0a0497058",\n        "texture_frames_id": "44efbeb7-c354-4210-a619-156ca8073001",\n        "x": "0",\n        "y": "0",\n        "w": null,\n        "h": null\n      },\n      "pivot": {\n        "id": "69e7b9b6-eb39-4a28-bd57-0e82154c237b",\n        "texture_frames_id": "2B552F1F-7918-40DD-8A2C-06BF29AFF063",\n        "x": 510,\n        "y": 500\n      },\n      "sourceSize": {\n        "id": "18d8aab5-28f9-463f-b27f-59eed35b1032",\n        "texture_frames_id": "2B552F1F-7918-40DD-8A2C-06BF29AFF063",\n        "w": null,\n        "h": null,\n        "scale": {\n          "desc": "缩放比例",\n          "ratio": 1\n        }\n      },\n      "spriteSourceSize": {\n        "id": "1d8e82a2-877d-468d-8dae-731068e0e862",\n        "texture_frames_id": "2B552F1F-7918-40DD-8A2C-06BF29AFF063",\n        "x": 0,\n        "y": 0,\n        "w": 375,\n        "h": 812\n      }\n    }\n    ');class d{constructor(e){this.content_id=e.content_id,this._tweens=[]}set tweens(e){this._tweens=e}get tweens(){return this._tweens}push(e){console.log("schedule frame: ",e.frame);const t=e.sceen.children.find((t=>t.name===e.frame.id));void 0!==t&&t.parent.removeChild(t),this._tweens=this._tweens.filter((t=>t.name!==e.frame.id));const o=new l({frame:e.frame,texture:e.texture});e.sceen.addChild(o),new r({sceen:e.sceen,target:o,frame:e.frame,texture:e.texture});const s={id:c.id,target:o,frame:e.frame};if(console.log("push options: ",s),console.log("data.animation: ",e.frame.animation),void 0===e.frame.tweens||null===e.frame.tweens)return s;this._tweens.push(new n(s)),console.log("tweens push: ",this._tweens,this._tweens)}}PIXI.Container,PIXI.Container,PIXI.Container,PIXI.Container,PIXI.Container;var f=PIXI.LoaderResource;function u(e){const t=/\s*([a-z\-]+)\s*:\s*((?:[^;]*url\(.*?\)[^;]*|[^;]*)*)\s*(?:;|$)/gi,o={};let n;for(;n=t.exec(e);)o[n[1].toLowerCase()]=n[2];return o}function h(e){let t="";const o=Object.keys(e).sort();for(let n=0;n<o.length;n++)t+=` ${o[n]}: ${e[o[n]]};`;return t.substring(1)}function p(e,t){return null!=e?e:t()}function g(e){let t,o=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,("optionalAccess"===s||"optionalCall"===s)&&null==o)return;"access"===s||"optionalAccess"===s?(t=o,o=i(o)):"call"!==s&&"optionalCall"!==s||(o=i(((...e)=>o.call(t,...e))),t=void 0)}return o}class m{static __initStatic(){this.supportedFontExtensions=["ttf","otf","woff","woff2"]}static add(...e){if(!document.fonts||!FontFace||!Promise)throw new Error("WebfontLoaderPlugin relies heavily on Promises and the FontFace API and your browser doesn't support them.");f.setExtensionLoadType("css",f.LOAD_TYPE.XHR),f.setExtensionXhrType("css",f.XHR_RESPONSE_TYPE.TEXT),f.setExtensionLoadType("ttf",f.LOAD_TYPE.XHR),f.setExtensionXhrType("ttf",f.XHR_RESPONSE_TYPE.BUFFER);for(const e of m.supportedFontExtensions)f.setExtensionLoadType(e,f.LOAD_TYPE.XHR),f.setExtensionXhrType(e,f.XHR_RESPONSE_TYPE.BUFFER)}static use(e,t){e.extension.endsWith("css")||e.extension.endsWith("css2")?m.loadFromCSS(e).finally((()=>t())):m.supportedFontExtensions.some((t=>e.extension.endsWith(t)))?m.loadFromBuffer(e).finally((()=>t())):t()}static __initStatic2(){this.waitFont=async(e,t,o)=>{const n=p(e["font-style"],(()=>"")),s=p(e["font-weight"],(()=>"")),i=p(e["font-stretch"],(()=>"")),a=e["font-family"];o=o||1/0;let l=(new Date).getTime();const r=l,c=[n,s,i,"100px",a].join(" ");let d=0;do{if(d=(await document.fonts.load(c,t)).length,d>0)return;await new Promise((e=>setTimeout(e,16))),l=(new Date).getTime()}while(l-r<o);console.warn(`Error loading font! Your font ${e["font-family"]} timed out after ${o}ms`)}}static loadFromCSS(e){const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e.url,document.head.appendChild(t);const o=function(e){const t=/([\s\S]+?)\{([\s\S]*?)\}/gi,o=[];let n,s;for(e=e.replace(/\/\*[\s\S]*?\*\//g,"");s=t.exec(e);){const e=u(s[2].trim());e.cssText=h(e),n={selectorText:s[1].trim().replace(/\s*\,\s*/,", "),style:e,cssText:""},n.cssText=`${n.selectorText} { ${n.style.cssText} }`,o.push(n)}return o}(e.data),n=[],s=[],i=g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.testString]),a=p(g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.timeout]),(()=>e.timeout));for(const e of o)"string"==typeof e.style["font-family"]&&(n.push(m.waitFont(e.style,i,a)),s.push({fontFamily:e.style["font-family"].replace(/['|"]/gi,""),fontStyle:e.style["font-style"],fontWeight:e.style["font-weight"]}));return e.styles=s,Promise.all(n)}static loadFromBuffer(e){const t=p(g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.family]),(()=>e.name));return document.fonts.add(new FontFace(t,e.data,g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font]))),e.styles=[{fontFamily:t.replace(/['|"]/gi,""),fontStyle:g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.style]),fontWeight:g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.weight])}],m.waitFont({"font-family":t,"font-stretch":g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.stretch]),"font-style":g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.style]),"font-weight":g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.weight])},g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.testString]),p(g([e,"access",e=>e.metadata,"optionalAccess",e=>e.font,"optionalAccess",e=>e.timeout]),(()=>e.timeout)))}}m.__initStatic(),m.__initStatic2(),PIXI.Loader.registerPlugin(m);class w{constructor(e){return w.instance||(this._loaded=!1,w.instance=this),w.instance}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}get loaded(){return this._loaded}get fonts(){return[{fontName:"Blue Sky Noto-Bold",fontFile:"/assets/font/min/Blue-Sky-Noto-Bold.otf"},{fontName:"Blue Sky Noto-Light",fontFile:"/assets/font/min/Blue-Sky-Noto-Light.otf"},{fontName:"Blue Sky Noto-Regular",fontFile:"/assets/font/min/Blue-Sky-Noto-Regular.otf"}]}addText(e,t){void 0===this._texts&&(this._texts=[]),this._texts.push([e,t])}get texts(){return this._texts}load(){this.fonts.forEach((e=>{console.log(`font(${e.fontName}: ${e.fontFile}) add.`),PIXI.Loader.shared.add({name:e.fontName,url:e.fontFile})})),PIXI.Loader.shared.onComplete.add((()=>{this._loaded=!0,void 0!==this._onComplete&&null!==this._onComplete&&this._onComplete()}).bind(this)),PIXI.Loader.shared.load()}}const y=new w({});PIXI.utils.skipHello();let x=null,S=null;const b={id:null,lang:null},_=e=>{console.log("app window.location.search: ",window.location.search);let t=new URLSearchParams(window.location.search);if(!t.has("id"))return void console.error("texture id not exists.");if(!t.has("lang"))return void console.error("texture lang not exists.");const o=t.get("id"),n=t.get("lang");v(o,n)},v=(e,t)=>{null!=F()&&(b.id=e,b.lang=t,I((()=>{P(),E()})))},I=e=>{y.loaded?e():null!=F()&&(y.onComplete=()=>{e()},y.load())},F=()=>{const e=document.getElementById("sceen");return null!==e?e:null},P=()=>{console.log("app init");const e=F();null==x&&(x=new o({width:960,height:540,element:e})),null==S&&(S=x.stage),null!=x&&null!=S?(e.innerHTML="",e.appendChild(x.view)):console.error("app init, app stage element: ",x,S,e)},E=()=>{const e=`/assets/pages/${b.id}/pc/${b.lang}/texture.json`;console.log("load texure url: ",e),axios.create({baseURL:"/"}),axios.get(e).then($)},A=e=>{console.log("background-color: ",e);const t=document.getElementsByClassName("container");console.log("doms: ",t),t.length>0&&(t.item(0).style["background-color"]=e.startsWith("#")?e:`#${e}`)},$=e=>{const t=e.data;console.log("load texture response: ",t),S.children.forEach((e=>{S.removeChild(e)}));var o=new PIXI.Container;o.x=0,o.y=0,S.addChild(o);const n=new d({content_id:t.id});void 0!==t.style&&void 0!==t.style["background-color"]?A(t.style["background-color"]):null!=t.content&&void 0!==t.content.bgcolor?A(t.content.bgcolor):A("#fff"),null===t||void 0===t.frames||null==t.frames||t.frames.length<=0||(t.lang=b.lang,console.log("texture.frames: ",t.frames),o.children.forEach((e=>{o.removeChild(e)})),t.frames.forEach((e=>{console.log(`app load frame, texture id: ${t.id}, frame id:${e.id}, content:${JSON.stringify(e.content)}`),n.push({sceen:o,frame:e,texture:t})})),console.log("app tween interactive setting: ",o.interactive),x.stage.interactive=!0,console.log("app tween interactive setting: ",o.interactive),void 0!==window.game.complete&&(void 0!==n.tweens&&Array.isArray(n.tweens)&&n.tweens.length>0?n.tweens[n.tweens.length-1].tween.call((()=>{window.game.complete({sceen:o,texture:t})})):window.game.complete({sceen:o,texture:t})),x.renderer.plugins.interaction.on("pointerdown",(e=>{if(null===n||void 0===n.tweens||Array.isArray(n)||0===n.tweens.length)return;const s=n.tweens.filter((e=>(console.log("app tween current lable: ",e.tween.currentLabel),"last"!==e.tween.currentLabel)));if(0===s.length){if(void 0===window.game.complete)return;return void window.game.complete({sceen:o,texture:t})}const i=s[0].options,a=s[0].tween;console.log("app tweens length: ",n.tweens.length),console.log("app tween stop: ",a),console.log("app tween options: ",i),console.log("app tween options target: ",i.target),console.log("app tween tween: ",a),a.gotoAndStop("last"),i.target.alpha=1,console.log("app tweens slice after length: ",n.tweens.length)})))};window.game={init:_,render:v};const B={render:v,init:_,load:(e,t)=>{window.addEventListener("load",(()=>{console.log("games: ",Games),Games.render(e,t)}),{once:!0})}};return t})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS1hbmltYXRpb24uanMiLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBZSxNQUFJRCxJQUVuQkQsRUFBWSxNQUFJQyxJQVJsQixDQVNHSyxNQUFNLFdBQ1QseUJDVEEsSUFBSUMsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNMLEVBQVNNLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEQsRUFBb0JHLEVBQUVGLEVBQVlDLEtBQVNGLEVBQW9CRyxFQUFFUixFQUFTTyxJQUM1RUUsT0FBT0MsZUFBZVYsRUFBU08sRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFRixFQUF3QixDQUFDUSxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0NsRlQsRUFBeUJMLElBQ0gsb0JBQVhrQixRQUEwQkEsT0FBT0MsYUFDMUNWLE9BQU9DLGVBQWVWLEVBQVNrQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RYLE9BQU9DLGVBQWVWLEVBQVMsYUFBYyxDQUFFb0IsT0FBTyx5Q0NMeEMsTUFBTUMsVUFBb0JDLEtBQUtELFlBQzVDRSxZQUFZQyxHQUNWQyxNQUFNLENBQ0pDLE1BQU9GLEVBQU1FLE1BQ2JDLE9BQVFILEVBQU1HLE9BQ2RDLFdBQVcsRUFFWEMsWUFBYSxFQUNiQyxXQUFZLEVBQ1pDLGFBQWEsSUFJZkMsUUFBUUMsSUFBSSx5QkFBMEJYLEtBQUtZLE1BQU1DLFVBQ2pESCxRQUFRQyxJQUFJLHdCQUF5QlgsS0FBS1ksTUFBTUUsb0JBQ2hESixRQUFRQyxJQUFJLGtCQUFtQlgsS0FBS1ksTUFBTUcsS0FDMUNMLFFBQVFDLElBQUksa0JBQW1CWCxLQUFLWSxNQUFNRyxLQUUxQ0MsS0FBS0MsU0FBU0MsS0FBS0MsTUFBTUMsU0FBVyxTQUNwQ0osS0FBS0MsU0FBU0MsS0FBS0MsTUFBTUUsUUFBVSxRQUNuQ0wsS0FBS0MsU0FBU0MsS0FBS0MsTUFBTUcsT0FBUyxPQUVsQ04sS0FBS0MsU0FBU00sWUFBYSxFQUMzQlAsS0FBS1EsTUFBTUMsa0JBQW1CLEVBRTlCLE1BQU1DLEVBQVMsS0FDYixNQUFNQyxFQUFRQyxJQUFtQkEsSUFDakMsSUFBSUMsRUFBS0MsS0FBS0MsSUFDWjdCLEVBQU04QixRQUFRQyxhQUFlLEVBQzdCL0IsRUFBTThCLFFBQVFFLFlBQWMsRUFDNUJoQyxFQUFNOEIsUUFBUUcsYUFBZSxHQUczQkMsRUFBS04sS0FBS0MsSUFDWjdCLEVBQU04QixRQUFRSyxjQUFnQixFQUM5Qm5DLEVBQU04QixRQUFRTSxhQUFlLEVBQzdCcEMsRUFBTThCLFFBQVFPLGNBQWdCLEdBRzVCVixFQUFLTyxHQUFNVCxFQUNiRSxFQUFLTyxFQUFLVCxFQUVWUyxFQUFLUCxFQUFLRixFQUdaakIsUUFBUUMsSUFDTCxnQ0FBZ0VrQixTQUFVTyxhQUFjVCxLQUczRlgsS0FBS0MsU0FBU0MsS0FBS0MsTUFBTWYsTUFBUXlCLEVBQUssS0FDdENiLEtBQUtDLFNBQVNDLEtBQUtDLE1BQU1kLE9BQVMrQixFQUFLLE1BR3pDSSxPQUFPQyxTQUFXZixFQUFPZ0IsS0FBSzFCLE1BQzlCd0IsT0FBT0csaUJBQWlCLFNBQVVqQixFQUFPZ0IsS0FBSzFCLE9BRTlDVSxLQ3hEVyxNQUFNa0IsRUFDbkIzQyxZQUFZNEMsR0FDVjdCLEtBQUs4QixTQUFXRCxFQUNoQjdCLEtBQUsrQixPQUFTQyxTQUFTQyxNQUFNM0QsSUFBSXVELEVBQVFLLE9BQVEsQ0FDL0NDLFVBQXVCQyxJQUFqQlAsRUFBUU0sTUFBNkJOLEVBQVFNLE9BR3JEbkMsS0FBS3FDLE1BR0hSLGNBQ0YsT0FBTzdCLEtBQUs4QixTQUdWUSxZQUNGLE9BQU90QyxLQUFLK0IsT0FHZE0sTUFDRSxNQUFNUixFQUFVN0IsS0FBSzhCLFNBQ3JCcEMsUUFBUUMsSUFBSSxrQkFBbUJrQyxRQUdYTyxJQUFsQlAsRUFBUVUsT0FDVSxPQUFsQlYsRUFBUVUsWUFDV0gsSUFBbkJQLEVBQVFLLFFBQ1csT0FBbkJMLEVBQVFLLFNBS1Z4QyxRQUFRQyxJQUFLLGdCQUFla0MsRUFBUVUsTUFBTUMsbUJBR2ZKLElBQXpCUCxFQUFRVSxNQUFNRSxRQUNXLE9BQXpCWixFQUFRVSxNQUFNRSxRQUNrQixpQkFBekJaLEVBQVFVLE1BQU1FLGFBQ09MLElBQTVCUCxFQUFRVSxNQUFNRSxPQUFPQyxJQUNwQkMsTUFBTUMsUUFBUWYsRUFBUVUsTUFBTUUsT0FBT0MsS0FDTCxPQUEvQmIsRUFBUVUsTUFBTUUsT0FBT0MsR0FBRyxTQVlTTixJQUFqQ1AsRUFBUVUsTUFBTUUsT0FBT0MsR0FBRyxHQUFHRyxRQUNZVCxJQUF2Q1AsRUFBUVUsTUFBTUUsT0FBT0MsR0FBRyxHQUFHRyxFQUFFQyxNQUU3QmpCLEVBQVFLLE9BQU9ZLE1BQVEsRUFFdkJqQixFQUFRSyxPQUFPWSxNQUFRakIsRUFBUVUsTUFBTUUsT0FBT0MsR0FBRyxHQUFHRyxFQUFFQyxXQUl0QlYsSUFBOUJQLEVBQVFVLE1BQU1FLE9BQU9NLE1BQ1MsT0FBOUJsQixFQUFRVSxNQUFNRSxPQUFPTSxNQUNyQkMsT0FBT0MsVUFBVXBCLEVBQVFVLE1BQU1FLE9BQU9NLFFBRXRDckQsUUFBUUMsSUFDTCxnQkFBZWtDLEVBQVFVLE1BQU1DLGFBQzlCWCxFQUFRVSxNQUFNRSxRQUVoQnpDLEtBQUsrQixPQUFPZ0IsS0FBS2xCLEVBQVFVLE1BQU1FLE9BQU9NLE9BR3hDckQsUUFBUUMsSUFDTCxnQkFBZWtDLEVBQVFVLE1BQU1DLGFBQzlCWCxFQUFRVSxNQUFNRSxRQUdoQlosRUFBUVUsTUFBTUUsT0FBT0MsR0FBR1EsU0FBU0MsSUFDL0J6RCxRQUFRQyxJQUFLLGdCQUFla0MsRUFBUVUsTUFBTUMsYUFBY1csR0FDeERuRCxLQUFLK0IsT0FBT1csR0FBR1MsRUFBRU4sRUFBR00sRUFBRUMsRUFBR3BCLFNBQVNxQixLQUFLQyxZQUFZLE9BR3JEdEQsS0FBSytCLE9BQU93QixNQUFNLGFBRU9uQixJQUFyQlAsRUFBUTJCLFVBQ1Z4RCxLQUFLK0IsT0FBT3BELEtBQUtrRCxFQUFRMkIsVUFHM0I5RCxRQUFRQyxJQUNMLGdCQUFla0MsRUFBUVUsTUFBTUMsbUJBQW1CWCxFQUFRVSxNQUFNQyxRQS9DL0RYLEVBQVFLLE9BQU9ZLFdBQ1dWLElBQXhCUCxFQUFRVSxNQUFNQSxZQUNnQkgsSUFBOUJQLEVBQVFVLE1BQU1BLE1BQU1PLE9BQ1UsT0FBOUJqQixFQUFRVSxNQUFNQSxNQUFNTyxNQUNmakIsRUFBUUssT0FBT1ksTUFBUSxFQUN4QmpCLEVBQVFVLE1BQU1BLE1BQU1PLFFDOUNoQyxTQUNFVyxRQUFTLENBQ1BDLFdBQVksd0JBQ1pDLFNBQVUsR0FDVkMsV0FBWSxRQUVkQyxNQUFPLENBQ0xILFdBQVksd0JBQ1pDLFNBQVUsSUFFWixXQUFZLENBQ1ZELFdBQVksc0JBQ1pDLFNBQVUsR0FDVkMsV0FBWSxRQUVkLGlCQUFrQixDQUNoQkYsV0FBWSxzQkFDWkMsU0FBVSxJQUVaRyxLQUFNLENBQ0pKLFdBQVksc0JBQ1pDLFNBQVUsR0FDVkksV0FBWSxHQUNaQyxjQUFlLEdBRWpCLFVBQVcsQ0FDVE4sV0FBWSxzQkFDWkMsU0FBVSxJQUVaLFlBQWEsQ0FDWEQsV0FBWSxzQkFDWkMsU0FBVSxHQUNWSSxXQUFZLEdBQ1pDLGNBQWUsR0FFakIsa0JBQW1CLENBQ2pCTixXQUFZLHNCQUNaQyxTQUFVLEdBQ1ZNLEtBQU0sV0FFUixxQkFBc0IsQ0FDcEJQLFdBQVksc0JBQ1pDLFNBQVUsR0FDVk0sS0FBTSxXQUVSLGVBQWdCLENBQ2RQLFdBQVksd0JBQ1pDLFNBQVUsSUFFWixrQkFBbUIsQ0FDakJELFdBQVksc0JBQ1pDLFNBQVUsSUFFWixnQkFBaUIsQ0FDZkQsV0FBWSxzQkFDWkMsU0FBVSxJQUVaLHFCQUFzQixDQUNwQkQsV0FBWSxzQkFDWkMsU0FBVSxHQUNWQyxXQUFZLFFBRWQsZ0JBQWlCLENBQ2ZGLFdBQVksc0JBQ1pDLFNBQVUsSUFFWixrQkFBbUIsQ0FDakJELFdBQVksc0JBQ1pDLFNBQVUsR0FDVk0sS0FBTSxXQUVSLGdCQUFpQixDQUNmUCxXQUFZLHNCQUNaQyxTQUFVLElBRVosa0JBQW1CLENBQ2pCRCxXQUFZLHNCQUNaSyxXQUFZLEdBQ1pKLFNBQVUsSUFFWixrQkFBbUIsQ0FDakJELFdBQVksc0JBQ1pDLFNBQVUsR0FDVk0sS0FBTSxZQ25GR0MsRUFBVSxDQUFDMUIsRUFBSTJCLElBQ2xCLGlCQUFnQjNCLFFBQVMyQixJQ0RwQixNQUFNQyxVQUFnQnBGLEtBQUtxRixTQUN4Q3BGLFlBQVk0QyxHQUNWMUMsUUFDQSxNQUFNbUYsRUFBV3pDLEVBQVEwQyxHQUFHRCxTQUN0QkUsRUFBUUMsSUFDWi9FLFFBQVFDLElBQ0wsNEJBQTJCOEUsRUFBRUMsZ0JBQzlCRCxFQUFFRSxLQUNGM0UsS0FBS3lFLEVBQUVDLFNBR1RELEVBQUVFLEtBQUt6QixTQUFRLENBQUMwQixFQUFHQyxLQUNqQm5GLFFBQVFDLElBQ0wsc0NBQXFDaUYsTUFDdEMsbUJBQW1CRSxLQUFLRixJQUUxQkgsRUFBRUUsS0FBS0UsR0FBSyxtQkFBbUJDLEtBQUtGLEdBQUtHLFNBQVNILEVBQUcsSUFBTUEsS0FHN0RsRixRQUFRQyxJQUFLLGdDQUFnQzhFLEVBQUVFLE1BQy9DSyxRQUFRQyxNQUFNakYsS0FBS3lFLEVBQUVDLFFBQVMxRSxLQUFNeUUsRUFBRUUsT0FHeENMLEVBQVNwQixTQUFTZ0MsSUFDaEJsRixLQUFLbUYsVUFBVUQsRUFBRUUsTUFBT0YsRUFBRXBDLE9BQzFCb0MsRUFBRUcsUUFBUW5DLFFBQVFzQixFQUFLOUMsS0FBSzFCLE9BQzVCQSxLQUFLc0YsYUFJVFIsS0FBS1MsR0FDSDdGLFFBQVFDLElBQUksbUNDNUJELE1BQU02RixVQUFleEcsS0FBS3lHLFVBQ3ZDeEcsWUFBWTRDLEdBQ1YxQyxRQUVBYSxLQUFLOEIsU0FBV0QsRUFDaEI3QixLQUFLMEYsV0FBVzdELEVBQVFVLE9BRzFCb0QsU0FBU0MsR0FHUCxPQUZtQkMsRUFFREQsR0FHcEJFLGNBQWNqRSxHQUNaN0IsS0FBSzhCLFNBQVdELEVBRWhCN0IsS0FBSytGLFNBQVM3QyxTQUFTdUIsSUFDckJBLEVBQUV1QixPQUFPQyxZQUFZeEIsTUFHdkJ6RSxLQUFLMEYsV0FBVzdELEVBQVFVLE9BRzFCbUQsV0FBV25ELEdBQ1Q3QyxRQUFRQyxJQUFJLFFBQVM0QyxHQUVyQnZDLEtBQUtrRyxLQUFPM0QsRUFBTUMsR0FDbEJ4QyxLQUFLbUcsRUFBSTVELEVBQU1BLE1BQU00RCxFQUNyQm5HLEtBQUtvRyxFQUFJN0QsRUFBTUEsTUFBTTZELEVBRXJCLElBQUlDLEVBQVEsR0FDWixHQUFLMUQsTUFBTUMsUUFBUUwsRUFBTStELFNBZXZCRCxFQUFROUQsRUFBTStELFlBZm1CLENBQ2pDLElBQUlDLEVBQU8sQ0FDVDFELEVBQUcsQ0FDRHNELEVBQUc1RCxFQUFNQSxNQUFNNEQsRUFDZkMsRUFBRzdELEVBQU1BLE1BQU02RCxJQUdELE9BQWQ3RCxFQUFNcUQsS0FDUnJELEVBQU14QyxJQUFNd0MsRUFBTStELFFBRWxCL0QsRUFBTXVCLEtBQU92QixFQUFNK0QsUUFHckJELEVBQU1HLEtBQUtELEdBS2I3RyxRQUFRQyxJQUFJLHNDQUF1QzRDLEVBQU0rRCxRQUFTRCxHQUVsRUEsRUFBTW5ELFFBQVFsRCxLQUFLeUcsU0FBUy9FLEtBQUsxQixPQUduQ3lHLFNBQVNsQyxHQUVQLEdBREE3RSxRQUFRQyxJQUFJLHdCQUF5QjRFLFFBQ3JCbkMsSUFBWm1DLEVBQUdxQixLQUNMLE9BR0YsR0FBZ0IsUUFBWnJCLEVBQUdxQixLQUFnQixDQUNyQixNQUFNekYsT0FDaUJpQyxJQUFyQm1DLEVBQUcsY0FDQ3ZFLEtBQUsyRixTQUFTcEIsRUFBRyxlQUNqQkEsRUFBR3BFLE1BRVRULFFBQVFDLElBQUksMkJBQTRCNEUsRUFBR1QsS0FBTTNELEdBQzdDbkIsS0FBS1ksTUFBTUMsU0FBUzZHLE1BQU1DLFNBQ0gsU0FBckJ4RyxFQUFNeUQsV0FDUnpELEVBQU02RCxlQUFpQixJQUV2QjdELEVBQU02RCxlQUFpQixHQUd6QnRFLFFBQVFDLElBQUksa0NBQW1DNEUsRUFBR1QsS0FBTTNELElBRzFELE1BQU0yRCxFQUFPLElBQUk5RSxLQUFLNEgsS0FBS3JDLEVBQUdULEtBQU0sSUFBSTlFLEtBQUs2SCxVQUFVMUcsSUFVdkQsT0FSQVQsUUFBUUMsSUFBSSwwQkFBMkI0RSxFQUFHMUIsRUFBRzBCLFFBQ2hDbkMsSUFBVG1DLEVBQUcxQixJQUNMaUIsRUFBS3FDLEVBQUk1QixFQUFHMUIsRUFBRXNELEVBQ2RyQyxFQUFLc0MsRUFBSTdCLEVBQUcxQixFQUFFdUQsUUFHaEJwRyxLQUFLOEcsU0FBU2hELEdBS2hCLE1BQU1pRCxFQUFTLENBQ2J4QyxHQUFJQSxFQUNKeUMsU0FBVTlDLEVBQVFsRSxLQUFLOEIsU0FBU21GLFFBQVF6RSxHQUFJeEMsS0FBSzhCLFNBQVNtRixRQUFROUMsTUFDbEU1QixNQUFPdkMsS0FBSzhCLFNBQVNTLE1BQ3JCMEUsUUFBU2pILEtBQUs4QixTQUFTbUYsU0FJekIsT0FEQXZILFFBQVFDLElBQUsseUJBQXdCNEUsRUFBR3hFLGNBQWN3RSxFQUFHcUIsUUFBU3JCLEdBQzFEQSxFQUFHcUIsTUFDVCxJQUFLLE1BQ0hsRyxRQUFRQyxJQUFLLCtDQUErQzRFLEdBQzVEdkUsS0FBS2tILHFCQUFxQkgsR0FDMUIsTUFDRixJQUFLLE1BQ0gvRyxLQUFLbUgsaUJBQWlCSixHQUN0QixNQUNGLElBQUssT0FDSCxNQUFNSyxFQUFTLElBQUloRCxFQUFRLENBQ3pCRyxHQUFJQSxJQUdOdkUsS0FBS3FILFFBQ0hsSixPQUFPbUosT0FBT1AsRUFBUSxDQUNwQkssT0FBUUEsS0FHWnBILEtBQUs4RyxTQUFTTSxJQUtwQkYscUJBQXFCckYsR0FHbkIsR0FGQW5DLFFBQVFDLElBQUssMkNBQTJDa0MsUUFFL0JPLElBQXJCUCxFQUFRMEMsR0FBR2dELE1BQ2IsT0FBTyxJQUFJdkksS0FBSzRILEtBQUssZ0JBR3ZCLE1BQU1ZLEVBQVMsSUFBSXhJLEtBQUt5SSxPQUNsQmxELEVBQUsxQyxFQUFRMEMsR0FDYm1ELEVBQVcsR0FDWEgsRUFBUWhELEVBQUdnRCxNQUVqQixJQUFLLElBQUkxQyxFQUFJMEMsRUFBTUksTUFBTzlDLEdBQUswQyxFQUFNSyxJQUFLL0MsSUFBSyxDQUM3QyxHQUFJQSxFQUZNLEtBRUtBLEVBQUksRUFDakIsT0FBTyxJQUFJN0YsS0FBSzRILEtBQUssZ0JBR3ZCLE1BQU03RyxFQUFPLEdBQUU4QixFQUFRbUYsWUFBWXpDLEVBQUd4RSxPQUFPOEUsUUFDN0MyQyxFQUFPSyxJQUFLLEdBQUV0RCxFQUFHeEUsT0FBTzhFLElBQUs5RSxHQThCL0J5SCxFQUFPTSxPQUNQTixFQUFPTyxXQUFXRixLQTVCRCxDQUFDTCxFQUFRUSxLQUN4QnRJLFFBQVFDLElBQUssNkNBQTZDcUksR0FFMUQ3SixPQUFPOEosS0FBS0QsR0FBVzlFLFNBQVNnRixJQUM5QnhJLFFBQVFDLElBQ0wsNENBQ0RxSSxFQUFVRSxHQUFHakIsU0FFZlMsRUFBU2xCLEtBQUt3QixFQUFVRSxHQUFHakIsWUFHN0IsTUFBTUcsRUFBUyxJQUFJcEksS0FBS21KLGVBQWVULEdBRXZDMUgsS0FBS3FILFFBQ0hsSixPQUFPbUosT0FBT3pGLEVBQVMsQ0FDckJ1RixPQUFRQSxFQUNSZ0IsYUFBY1YsRUFBUyxHQUFHVyxlQUk5QmpCLEVBQU9qRixVQUFtQkMsSUFBWm1DLEVBQUdwQyxNQUE2Qm9DLEVBQUdwQyxLQUNqRGlGLEVBQU9rQixlQUFpQixHQUN4QmxCLEVBQU9tQixPQUVQdkksS0FBSzhHLFNBQVNNLEtBSWUxRixLQUFLMUIsT0FHdENtSCxpQkFBaUJ0RixHQUNmbkMsUUFBUUMsSUFBSyw2QkFBNkJrQyxHQUUxQyxNQUFNMEMsRUFBSzFDLEVBQVEwQyxHQUNuQixJQUFJeEUsRUFBTyxHQUFFbUUsRUFDWGxFLEtBQUs4QixTQUFTbUYsUUFBUXpFLEdBQ3RCeEMsS0FBSzhCLFNBQVNtRixRQUFROUMsU0FFeEJ6RSxRQUFRQyxJQUFJLDZCQUE4QjRFLEdBRXhDeEUsRUFEZ0IsaUJBQVB3RSxFQUNGLEdBQUV4RSxJQUFNd0UsRUFBR3hFLE1BRVgsR0FBRUEsSUFBTXdFLElBR2pCLElBQUk2RCxFQUFlLElBQUlwSixLQUFLd0osWUFBWXpJLEdBQ3hDLE1BQU0wSSxFQUFlekksS0FBSzBJLGtCQUFrQmhILEtBQUsxQixNQUNqRCxHQUFJb0ksRUFBYU8sVUFVZixPQVRBakosUUFBUUMsSUFBSyw2Q0FBNkNJLFFBQzFEQyxLQUFLOEcsU0FDSDJCLEVBQ0V0SyxPQUFPbUosT0FBT3pGLEVBQVMsQ0FDckI5QixJQUFLQSxFQUNMcUksYUFBYyxJQUFJcEosS0FBSzRKLFFBQVFSLE9BdUJ2Q0EsRUFBYVMsR0FBRyxVQWhCQyxLQUNmLE1BQU16QixFQUFTcUIsRUFDYnRLLE9BQU9tSixPQUFPekYsRUFBUyxDQUNyQjlCLElBQUtBLEVBQ0xxSSxhQUFjLElBQUlwSixLQUFLNEosUUFBUVIsTUFHbkMxSSxRQUFRQyxJQUNOLGdEQUNBSSxFQUNBcUgsRUFDQXBILE1BRUZBLEtBQUs4RyxTQUFTTSxLQUdtQjFGLEtBQUsxQixPQUcxQzBJLGtCQUFrQjdHLEdBQ2hCbkMsUUFBUUMsSUFBSyx1QkFBc0JrQyxFQUFROUIsd0JBQXlCOEIsR0FDcEVuQyxRQUFRQyxJQUNMLHVCQUFzQmtDLEVBQVE5QiwwQkFBMEI4QixFQUFRb0YsUUFBUTdILGFBQWF5QyxFQUFRb0YsUUFBUTVILFVBT3hHLE1BQU0rSCxFQUFTLElBQUlwSSxLQUFLd0csT0FBTzNELEVBQVF1RyxjQWlCdkMsT0FoQkExSSxRQUFRQyxJQUNOLCtDQUNBeUgsRUFDQXZGLEVBQVF1RyxjQUVWMUksUUFBUUMsSUFDTCx1QkFBc0JrQyxFQUFROUIseUJBQXlCcUgsRUFBT2hJLGFBQWFnSSxFQUFPL0gsVUFHckZXLEtBQUtxSCxRQUNIbEosT0FBT21KLE9BQU96RixFQUFTLENBQ3JCdUYsT0FBUUEsRUFDUmdCLGFBQWN2RyxFQUFRdUcsZ0JBSW5CaEIsRUFHVEMsUUFBUXhGLEdBQ05uQyxRQUFRQyxJQUFLLDRCQUE0QmtDLEdBRXpDLE1BQU0wQyxFQUFLMUMsRUFBUTBDLEdBQ2JoQyxFQUFRVixFQUFRVSxNQUNoQjZFLEVBQVN2RixFQUFRdUYsWUFFUGhGLElBQVptQyxFQUFHdUUsTUFBa0MsT0FBWnZFLEVBQUd1RSxPQUM5QjFCLEVBQU8yQixhQUFjLEVBQ3JCM0IsRUFBT3lCLEdBQUcsZUFBZ0J0RCxJQUN4QnlELFNBQVNDLEtBQU8xRSxFQUFHdUUsY0FJRTFHLElBQXJCRyxFQUFNMkcsYUFDUjNHLEVBQU0yRyxXQUFhLFNBR1E5RyxJQUF6QlAsRUFBUXVHLGVBQ1YxSSxRQUFRQyxJQUFLLGlDQUFpQ2tDLEVBQVF1RyxjQUN0RDdGLEVBQU0yRyxXQUFXQyxFQUFJdEgsRUFBUXVHLGFBQWFoSixNQUMxQ21ELEVBQU0yRyxXQUFXRSxFQUFJdkgsRUFBUXVHLGFBQWEvSSxRQUc1Q0ssUUFBUUMsSUFDTixnREFDQTRDLEVBQU0yRyxXQUNOM0csUUFJMkJILElBQTNCRyxFQUFNMkcsV0FBV0csWUFDZ0JqSCxJQUFqQ0csRUFBTTJHLFdBQVdHLE1BQU0xSSxPQUV2QmpCLFFBQVFDLElBQUksZ0VBQ1V5QyxJQUFsQkcsRUFBTUEsTUFBTTRHLElBQ2QvQixFQUFPaEksTUFBUW1ELEVBQU1BLE1BQU00RyxRQUVQL0csSUFBbEJHLEVBQU1BLE1BQU02RyxJQUNkaEMsRUFBTy9ILE9BQVNrRCxFQUFNQSxNQUFNNkcsS0FHOUIxSixRQUFRQyxJQUNOLCtDQUNBNEMsRUFBTTJHLFdBQVdHLE1BQU0xSSxPQUV6QnlHLEVBQU9pQyxNQUFNQyxJQUFJL0csRUFBTTJHLFdBQVdHLE1BQU0xSSxhQUdyQnlCLElBQWpCRyxFQUFNRSxRQUF5QyxPQUFqQkYsRUFBTUUsUUFDdEN6QyxLQUFLbUcsRUFBSTVELEVBQU1BLE1BQU00RCxFQUNyQm5HLEtBQUtvRyxFQUFJN0QsRUFBTUEsTUFBTTZELFFBRURoRSxJQUFwQkcsRUFBTUUsT0FBT0MsSUFDYkMsTUFBTUMsUUFBUUwsRUFBTUUsT0FBT0MsS0FDM0JILEVBQU1FLE9BQU9DLEdBQUc2RyxPQUFTLEdBRUUsT0FBdkJoSCxFQUFNRSxPQUFPQyxHQUFHLFNBQXdDTixJQUF6QkcsRUFBTUUsT0FBT0MsR0FBRyxHQUFHRyxJQUNwRDdDLEtBQUttRyxFQUFJNUQsRUFBTUUsT0FBT0MsR0FBRyxHQUFHRyxFQUFFc0QsRUFDOUJuRyxLQUFLb0csRUFBSTdELEVBQU1FLE9BQU9DLEdBQUcsR0FBR0csRUFBRXVELE9BQ0toRSxJQUEvQkcsRUFBTUUsT0FBT0MsR0FBRyxHQUFHRyxFQUFFQyxNQUN2QjlDLEtBQUs4QyxNQUFRUCxFQUFNRSxPQUFPQyxHQUFHLEdBQUdHLEVBQUVDLE1BRWxDOUMsS0FBSzhDLE1BQVEsR0FLbkJwRCxRQUFRQyxJQUFLLDhCQ2xVRixNQUFNNkosRUFDbkJ2SyxZQUFZNEMsS0NIZCxZQUNTNEgsS0FBS0MsTUFBTyxnNENDR04sTUFBTUMsRUFDbkIxSyxZQUFZNEMsR0FDVjdCLEtBQUs0SixXQUFhL0gsRUFBUStILFdBQzFCNUosS0FBSzZKLFFBQVUsR0FHYnBILFdBQU9xSCxHQUNUOUosS0FBSzZKLFFBQVVDLEVBR2JySCxhQUNGLE9BQU96QyxLQUFLNkosUUFHZHJELEtBQUszRSxHQUNIbkMsUUFBUUMsSUFBSSxtQkFBb0JrQyxFQUFRVSxPQUN4QyxNQUFNd0gsRUFBa0JsSSxFQUFRbUksTUFBTWpFLFNBQVNrRSxNQUM1QzFFLEdBQU1BLEVBQUVXLE9BQVNyRSxFQUFRVSxNQUFNQyxVQUdWSixJQUFwQjJILEdBQ0ZBLEVBQWdCL0QsT0FBT0MsWUFBWThELEdBR3JDL0osS0FBSzZKLFFBQVU3SixLQUFLNkosUUFBUUssUUFBUTNFLEdBQU1BLEVBQUVXLE9BQVNyRSxFQUFRVSxNQUFNQyxLQUVuRSxNQUFNNEUsRUFBUyxJQUFJNUIsRUFBTyxDQUN4QmpELE1BQU9WLEVBQVFVLE1BQ2YwRSxRQUFTcEYsRUFBUW9GLFVBR25CcEYsRUFBUW1JLE1BQU1sRCxTQUFTTSxHQUVOLElBQUlvQyxFQUFTLENBQzVCUSxNQUFPbkksRUFBUW1JLE1BQ2Y5SCxPQUFRa0YsRUFDUjdFLE1BQU9WLEVBQVFVLE1BQ2YwRSxRQUFTcEYsRUFBUW9GLFVBSm5CLE1BT01rRCxFQUFnQixDQUNwQjNILEdBQUlELEVBQUFBLEdBQ0pMLE9BQVFrRixFQUNSN0UsTUFBT1YsRUFBUVUsT0FNakIsR0FIQTdDLFFBQVFDLElBQUksaUJBQWtCd0ssR0FDOUJ6SyxRQUFRQyxJQUFJLG1CQUFvQmtDLEVBQVFVLE1BQU02SCxnQkFFakJoSSxJQUF6QlAsRUFBUVUsTUFBTUUsUUFBaUQsT0FBekJaLEVBQVFVLE1BQU1FLE9BQ3RELE9BQU8wSCxFQUdUbkssS0FBSzZKLFFBQVFyRCxLQUFLLElBQUk1RSxFQUFZdUksSUFFbEN6SyxRQUFRQyxJQUFJLGdCQUFpQkssS0FBSzZKLFFBQVM3SixLQUFLNkosVUNwRGhCN0ssS0FBS3lHLFVDRkV6RyxLQUFLeUcsVUNMYnpHLEtBQUt5RyxVQ0NDekcsS0FBS3lHLFVDT0F6RyxLQUFLeUcsVUNJbkQsSUFBSTRFLEVBQWlCckwsS0FBS3FMLGVBQzFCLFNBQVNDLEVBQVVDLEdBRWYsTUFBTUMsRUFBWSxvRUFDWmpNLEVBQU0sR0FDWixJQUFJa00sRUFFSixLQUFRQSxFQUFRRCxFQUFVRSxLQUFLSCxJQUUzQmhNLEVBQUlrTSxFQUFNLEdBQUdFLGVBQWlCRixFQUFNLEdBR3hDLE9BQU9sTSxFQUdYLFNBQVNxTSxFQUFjekssR0FFbkIsSUFBSTJELEVBQU8sR0FDWCxNQUFNbUUsRUFBTzlKLE9BQU84SixLQUFLOUgsR0FBTzBLLE9BRWhDLElBQUssSUFBSWhHLEVBQUksRUFBR0EsRUFBSW9ELEVBQUtzQixPQUFRMUUsSUFFN0JmLEdBQVMsSUFBR21FLEVBQUtwRCxPQUFPMUUsRUFBTThILEVBQUtwRCxPQUd2QyxPQUFPZixFQUFLZ0gsVUFBVSxHQWdDMUIsU0FBU0MsRUFBaUJDLEVBQUtDLEdBQVMsT0FBVyxNQUFQRCxFQUFzQkEsRUFBcUJDLElBQWEsU0FBU0MsRUFBZUMsR0FBTyxJQUFJQyxFQUErQnRNLEVBQVFxTSxFQUFJLEdBQVF0RyxFQUFJLEVBQUcsS0FBT0EsRUFBSXNHLEVBQUk1QixRQUFRLENBQUUsTUFBTThCLEVBQUtGLEVBQUl0RyxHQUFVeUcsRUFBS0gsRUFBSXRHLEVBQUksR0FBWSxHQUFSQSxHQUFLLEdBQWUsbUJBQVB3RyxHQUFrQyxpQkFBUEEsSUFBbUMsTUFBVHZNLEVBQWlCLE9BQStCLFdBQVB1TSxHQUEwQixtQkFBUEEsR0FBMkJELEVBQWdCdE0sRUFBT0EsRUFBUXdNLEVBQUd4TSxJQUEwQixTQUFQdU0sR0FBd0IsaUJBQVBBLElBQXlCdk0sRUFBUXdNLEdBQUcsSUFBSTNHLElBQVM3RixFQUFNSCxLQUFLeU0sS0FBa0J6RyxLQUFReUcsT0FBZ0JoSixHQUFlLE9BQU90RCxFQUMvbEIsTUFBTXlNLEVBT21CLHNCQUFJdkwsS0FBS3dMLHdCQUEwQixDQUFDLE1BQU8sTUFBTyxPQUFRLFNBRXJFLGNBQUlDLEdBRVYsSUFBS0MsU0FBU0MsUUFBVUMsV0FBYUMsUUFFakMsTUFBTSxJQUFJQyxNQUNOLDhHQUlSekIsRUFBZTBCLHFCQUFxQixNQUFPMUIsRUFBZTJCLFVBQVVDLEtBQ3BFNUIsRUFBZTZCLG9CQUFvQixNQUFPN0IsRUFBZThCLGtCQUFrQkMsTUFFM0UvQixFQUFlMEIscUJBQXFCLE1BQU8xQixFQUFlMkIsVUFBVUMsS0FDcEU1QixFQUFlNkIsb0JBQW9CLE1BQU83QixFQUFlOEIsa0JBQWtCRSxRQUUzRSxJQUFLLE1BQU1DLEtBQU9mLEVBQW9CQyx3QkFFbENuQixFQUFlMEIscUJBQXFCTyxFQUFLakMsRUFBZTJCLFVBQVVDLEtBQ2xFNUIsRUFBZTZCLG9CQUFvQkksRUFBS2pDLEVBQWU4QixrQkFBa0JFLFFBSXZFLFdBQUNFLEVBQVVDLEdBRWJELEVBQVNFLFVBQVVDLFNBQVMsUUFBVUgsRUFBU0UsVUFBVUMsU0FBUyxRQUdsRW5CLEVBQW9Cb0IsWUFBWUosR0FBVUssU0FBUSxJQUFNSixNQUt4RGpCLEVBQW9CQyx3QkFBd0JxQixNQUFNUCxHQUFRQyxFQUFTRSxVQUFVQyxTQUFTSixLQUd0RmYsRUFBb0J1QixlQUFlUCxHQUFVSyxTQUFRLElBQU1KLE1BTS9EQSxJQU9pQix1QkFBSXhNLEtBQUsrTSxTQUFXQyxNQUNyQ0MsRUFDQUMsRUFDQUMsS0FFQSxNQUFNQyxFQUFZckMsRUFBaUJrQyxFQUFlLGVBQWUsSUFBUSxLQUNuRXJKLEVBQWFtSCxFQUFpQmtDLEVBQWUsZ0JBQWdCLElBQVEsS0FDckVJLEVBQWN0QyxFQUFpQmtDLEVBQWUsaUJBQWlCLElBQVEsS0FDdkV2SixFQUFhdUosRUFBZSxlQUVsQ0UsRUFBVUEsR0FBV0csRUFBQUEsRUFDckIsSUFBSUMsR0FBTSxJQUFJQyxNQUFPQyxVQUNyQixNQUFNQyxFQUFXSCxFQUNYSSxFQUFrQixDQUFDUCxFQUFXeEosRUFBWXlKLEVBQWEsUUFBUzNKLEdBQVlrSyxLQUFLLEtBQ3ZGLElBQUlDLEVBQWMsRUFFbEIsRUFDQSxDQUVJLEdBREFBLFNBQXFCbkMsU0FBU0MsTUFBTTdELEtBQUs2RixFQUFpQlQsSUFBYTNELE9BQ25Fc0UsRUFBYyxFQUdkLGFBSUUsSUFBSWhDLFNBQVNpQyxHQUFZQyxXQUFXRCxFQUFTLE1BRW5EUCxHQUFNLElBQUlDLE1BQU9DLGdCQUNaRixFQUFNRyxFQUFXUCxHQUcxQnpOLFFBQVFzTyxLQUFNLGlDQUFnQ2YsRUFBZSxrQ0FBa0NFLFFBR2hGLG1CQUFDWixHQUVoQixNQUFNMEIsRUFBVXZDLFNBQVN3QyxjQUFjLFFBRXZDRCxFQUFRRSxJQUFNLGFBQ2RGLEVBQVFySSxLQUFPLFdBQ2ZxSSxFQUFRaEYsS0FBT3NELEVBQVN4TSxJQUd4QjJMLFNBQVMwQyxLQUFLQyxZQUFZSixHQUcxQixNQUFNSyxFQWxJZCxTQUFrQnhLLEdBRWQsTUFBTTBHLEVBQVksNkJBQ1orRCxFQUFRLEdBQ2QsSUFBSUMsRUFDQS9ELEVBR0osSUFEQTNHLEVBQU9BLEVBQUsySyxRQUFRLG9CQUFxQixJQUNqQ2hFLEVBQVFELEVBQVVFLEtBQUs1RyxJQUMvQixDQUNJLE1BQU0zRCxFQUFRbUssRUFBVUcsRUFBTSxHQUFHaUUsUUFFakN2TyxFQUFNd08sUUFBVS9ELEVBQWN6SyxHQUM5QnFPLEVBQU8sQ0FDSEksYUFBY25FLEVBQU0sR0FBR2lFLE9BQU9ELFFBQVEsV0FBWSxNQUNsRHRPLE1BQUFBLEVBQ0F3TyxRQUFTLElBRWJILEVBQUtHLFFBQVcsR0FBRUgsRUFBS0ksa0JBQWtCSixFQUFLck8sTUFBTXdPLFlBQ3BESixFQUFNL0gsS0FBS2dJLEdBR2YsT0FBT0QsRUE0R2NNLENBQVN0QyxFQUFTdUMsTUFHN0JDLEVBQWEsR0FDYkMsRUFBb0IsR0FFcEI5QixFQUFhaEMsRUFBZSxDQUFDcUIsRUFBVSxTQUFVMEMsR0FBS0EsRUFBRUMsU0FBVSxpQkFBa0JDLEdBQU1BLEVBQUdDLEtBQU0saUJBQWtCQyxHQUFNQSxFQUFHbkMsYUFDOUhDLEVBQVVwQyxFQUFpQkcsRUFBZSxDQUFDcUIsRUFBVSxTQUFVK0MsR0FBTUEsRUFBR0osU0FBVSxpQkFBa0JLLEdBQU1BLEVBQUdILEtBQU0saUJBQWtCSSxHQUFNQSxFQUFHckMsV0FBVyxJQUFRWixFQUFTWSxVQUVoTCxJQUFLLE1BQU1pQyxLQUFRZCxFQUUwQixpQkFBOUJjLEVBQUtqUCxNQUFNLGlCQUdsQjRPLEVBQVd2SSxLQUNQK0UsRUFBb0J3QixTQUFTcUMsRUFBS2pQLE1BQU8rTSxFQUFZQyxJQUl6RDZCLEVBQWtCeEksS0FBSyxDQUNuQjlDLFdBQVkwTCxFQUFLalAsTUFBTSxlQUFlc08sUUFBUSxVQUFXLElBQ3pEckIsVUFBV2dDLEVBQUtqUCxNQUFNLGNBQ3RCeUQsV0FBWXdMLEVBQUtqUCxNQUFNLGtCQVduQyxPQUpBb00sRUFBU2tELE9BQVNULEVBSVhuRCxRQUFRNkQsSUFBSVgsR0FHRCxzQkFBQ3hDLEdBR25CLE1BQU03SSxFQUFhcUgsRUFBaUJHLEVBQWUsQ0FBQ3FCLEVBQVUsU0FBVW9ELEdBQU1BLEVBQUdULFNBQVUsaUJBQWtCVSxHQUFNQSxFQUFHUixLQUFNLGlCQUFrQlMsR0FBTUEsRUFBR0MsVUFBVSxJQUFRdkQsRUFBU3JHLE9BY2xMLE9BWEF3RixTQUFTQyxNQUFNOUQsSUFBSSxJQUFJK0QsU0FBU2xJLEVBQVk2SSxFQUFTdUMsS0FBTTVELEVBQWUsQ0FBQ3FCLEVBQVUsU0FBVXdELEdBQU9BLEVBQUliLFNBQVUsaUJBQWtCYyxHQUFPQSxFQUFJWixTQUdqSjdDLEVBQVNrRCxPQUFTLENBQUMsQ0FDZi9MLFdBQVlBLEVBQVcrSyxRQUFRLFVBQVcsSUFDMUNyQixVQUFXbEMsRUFBZSxDQUFDcUIsRUFBVSxTQUFVMEQsR0FBT0EsRUFBSWYsU0FBVSxpQkFBa0JnQixHQUFPQSxFQUFJZCxLQUFNLGlCQUFrQmUsR0FBT0EsRUFBSWhRLFFBQ3BJeUQsV0FBWXNILEVBQWUsQ0FBQ3FCLEVBQVUsU0FBVTZELEdBQU9BLEVBQUlsQixTQUFVLGlCQUFrQm1CLEdBQU9BLEVBQUlqQixLQUFNLGlCQUFrQmtCLEdBQU9BLEVBQUlDLFdBS2xJaEYsRUFBb0J3QixTQUN2QixDQUNJLGNBQWVySixFQUNmLGVBQWdCd0gsRUFBZSxDQUFDcUIsRUFBVSxTQUFVaUUsR0FBT0EsRUFBSXRCLFNBQVUsaUJBQWtCdUIsR0FBT0EsRUFBSXJCLEtBQU0saUJBQWtCc0IsR0FBT0EsRUFBSUMsVUFDekksYUFBY3pGLEVBQWUsQ0FBQ3FCLEVBQVUsU0FBVXFFLEdBQU9BLEVBQUkxQixTQUFVLGlCQUFrQjJCLEdBQU9BLEVBQUl6QixLQUFNLGlCQUFrQjBCLEdBQU9BLEVBQUkzUSxRQUN2SSxjQUFlK0ssRUFBZSxDQUFDcUIsRUFBVSxTQUFVd0UsR0FBT0EsRUFBSTdCLFNBQVUsaUJBQWtCOEIsR0FBT0EsRUFBSTVCLEtBQU0saUJBQWtCNkIsR0FBT0EsRUFBSVYsVUFFNUlyRixFQUFlLENBQUNxQixFQUFVLFNBQVUyRSxHQUFPQSxFQUFJaEMsU0FBVSxpQkFBa0JpQyxHQUFPQSxFQUFJL0IsS0FBTSxpQkFBa0JnQyxHQUFPQSxFQUFJbEUsYUFBY25DLEVBQWlCRyxFQUFlLENBQUNxQixFQUFVLFNBQVU4RSxHQUFPQSxFQUFJbkMsU0FBVSxpQkFBa0JvQyxHQUFPQSxFQUFJbEMsS0FBTSxpQkFBa0JtQyxHQUFPQSxFQUFJcEUsV0FBVyxJQUFRWixFQUFTWSxZQUV2VDVCLEVBQW9CaUcsZUFBZ0JqRyxFQUFvQmtHLGdCQzFPMUR6UyxLQUFLeUksT0FBT2lLLGVBQWVuRyxHQUUzQixNQUFNb0csRUFDSjFTLFlBQVk0QyxHQVNWLE9BUEs4UCxFQUFXQyxXQUNkNVIsS0FBSzZSLFNBQVUsRUFHZkYsRUFBV0MsU0FBVzVSLE1BR2pCMlIsRUFBV0MsU0FHaEI3SixpQkFDRixPQUFPL0gsS0FBSzhSLFlBR1YvSixlQUFXdUQsR0FDYnRMLEtBQUs4UixZQUFjeEcsRUFHakJ5RyxhQUNGLE9BQU8vUixLQUFLNlIsUUFHVmxHLFlBQ0YsTUFBTyxDQUNMLENBQ0VxRyxTQUFVLHFCQUNWQyxTQUFVLDJDQUVaLENBQ0VELFNBQVUsc0JBQ1ZDLFNBQVUsNENBRVosQ0FDRUQsU0FBVSx3QkFDVkMsU0FBVSwrQ0FLaEJDLFFBQVFsTSxFQUFRbEMsUUFDTTFCLElBQWhCcEMsS0FBS21TLFNBQ1BuUyxLQUFLbVMsT0FBUyxJQUdoQm5TLEtBQUttUyxPQUFPM0wsS0FBSyxDQUFDUixFQUFRbEMsSUFHeEJzTyxZQUNGLE9BQU9wUyxLQUFLbVMsT0FHZHJLLE9BU0U5SCxLQUFLMkwsTUFBTXpJLFNBQVNtUCxJQUNsQjNTLFFBQVFDLElBQUssUUFBTzBTLEVBQUVMLGFBQWFLLEVBQUVKLGtCQUNyQ2pULEtBQUt5SSxPQUFPNkssT0FBT3pLLElBQUksQ0FDckIzQixLQUFNbU0sRUFBRUwsU0FDUmpTLElBQUtzUyxFQUFFSixjQUlYalQsS0FBS3lJLE9BQU82SyxPQUFPdkssV0FBV0YsS0FoQmIsS0FDZjdILEtBQUs2UixTQUFVLE9BRVV6UCxJQUFyQnBDLEtBQUs4UixhQUFrRCxPQUFyQjlSLEtBQUs4UixhQUN6QzlSLEtBQUs4UixnQkFZa0NwUSxLQUFLMUIsT0FDaERoQixLQUFLeUksT0FBTzZLLE9BQU94SyxRQUl2QixZQUFtQjZKLEVBQVcsSUMxRTVCM1MsS0FBS1ksTUFBTTJTLFlBR2IsSUFBSUMsRUFBTSxLQUNOaFMsRUFBUSxLQUNaLE1BQU04RixFQUFVLENBQ2Q5RCxHQUFJLEtBQ0oyQixLQUFNLE1BR0ZzTyxFQUFRbE4sSUFDWjdGLFFBQVFDLElBQUksK0JBQWdDNkIsT0FBT3dILFNBQVMwSixRQUM1RCxJQUFJQyxFQUFlLElBQUlDLGdCQUFnQnBSLE9BQU93SCxTQUFTMEosUUFDdkQsSUFBS0MsRUFBYUUsSUFBSSxNQUVwQixZQURBblQsUUFBUW9ULE1BQU0sMEJBSWhCLElBQUtILEVBQWFFLElBQUksUUFFcEIsWUFEQW5ULFFBQVFvVCxNQUFNLDRCQUloQixNQUFNdFEsRUFBS21RLEVBQWFyVSxJQUFJLE1BQ3RCNkYsRUFBT3dPLEVBQWFyVSxJQUFJLFFBRTlCeVUsRUFBT3ZRLEVBQUkyQixJQWlCUDRPLEVBQVMsQ0FBQ3ZRLEVBQUkyQixLQUVILE1BREM2TyxNQUtoQjFNLEVBQVE5RCxHQUFLQSxFQUNiOEQsRUFBUW5DLEtBQU9BLEVBQ2Y4TyxHQUFVLEtBQ1JDLElBQ0FDLFNBSUVGLEVBQWFHLElBQ2JDLEVBQUFBLE9BQ0ZELElBS2EsTUFEQ0osTUFLaEJLLEVBQUFBLFdBQW1CLEtBQ2pCRCxLQUdGQyxFQUFBQSxTQUdJTCxFQUFhLEtBQ2pCLE1BQU1oUyxFQUFVMEssU0FBUzRILGVBQWUsU0FDeEMsT0FBZ0IsT0FBWnRTLEVBQ0tBLEVBR0YsTUFHSGtTLEVBQVUsS0FDZHhULFFBQVFDLElBQUksWUFFWixNQUFNcUIsRUFBVWdTLElBRUwsTUFBUFIsSUFDRkEsRUFBTSxJQUFJelQsRUFBWSxDQUNwQkssTUFBT3dCLElBQ1B2QixPQUFRdUIsSUFDUkksUUFBU0EsS0FJQSxNQUFUUixJQUNGQSxFQUFRZ1MsRUFBSWhTLE9BR0gsTUFBUGdTLEdBQXdCLE1BQVRoUyxHQUtuQlEsRUFBUXVTLFVBQVksR0FDcEJ2UyxFQUFRcU4sWUFBWW1FLEVBQUl0UyxPQUx0QlIsUUFBUW9ULE1BQU0sZ0NBQWlDTixFQUFLaFMsRUFBT1EsSUFRekRtUyxFQUFjLEtBQ2xCLE1BQU1wVCxFQUFPLGlCQUFnQnVHLEVBQVE5RCxTQUFTOEQsRUFBUW5DLG9CQUN0RHpFLFFBQVFDLElBQUksb0JBQXFCSSxHQUNoQnlULE1BQU1DLE9BQU8sQ0FDNUJDLFFBQVMsTUFHWEYsTUFBTWxWLElBQUl5QixHQUFLNFQsS0FBS0MsSUFHaEJDLEVBQXNCek8sSUFDMUIxRixRQUFRQyxJQUFJLHFCQUFzQnlGLEdBQ2xDLE1BQU0wTyxFQUFPcEksU0FBU3FJLHVCQUF1QixhQUM3Q3JVLFFBQVFDLElBQUksU0FBVW1VLEdBQ2xCQSxFQUFLdkssT0FBUyxJQUNoQnVLLEVBQUt2TixLQUFLLEdBQUdwRyxNQUFNLG9CQUFzQmlGLEVBQU00TyxXQUFXLEtBQ3RENU8sRUFDQyxJQUFHQSxNQUlOd08sRUFBYUssSUFDakIsTUFBTWhOLEVBQVVnTixFQUFTbkYsS0FDekJwUCxRQUFRQyxJQUFJLDBCQUEyQnNILEdBRXZDekcsRUFBTXVGLFNBQVM3QyxTQUFTdUIsSUFDdEJqRSxFQUFNeUYsWUFBWXhCLE1BR3BCLElBQUl1RixFQUFRLElBQUloTCxLQUFLeUcsVUFDckJ1RSxFQUFNN0QsRUFBSSxFQUNWNkQsRUFBTTVELEVBQUksRUFDVjVGLEVBQU1zRyxTQUFTa0QsR0FFZixNQUFNa0ssRUFBTyxJQUFJdkssRUFBUyxDQUN4QkMsV0FBWTNDLEVBQVF6RSxVQUlGSixJQUFsQjZFLEVBQVE5RyxZQUM4QmlDLElBQXRDNkUsRUFBUTlHLE1BQU0sb0JBRWQwVCxFQUFtQjVNLEVBQVE5RyxNQUFNLHFCQUVkaUMsTUFBbkI2RSxFQUFRWCxjQUNvQmxFLElBQTVCNkUsRUFBUVgsUUFBUTZOLFFBRWhCTixFQUFtQjVNLEVBQVFYLFFBQVE2TixTQUVuQ04sRUFBbUIsUUFJUCxPQUFaNU0sUUFDbUI3RSxJQUFuQjZFLEVBQVFtTixRQUNVLE1BQWxCbk4sRUFBUW1OLFFBQ1JuTixFQUFRbU4sT0FBTzdLLFFBQVUsSUFLM0J0QyxFQUFROUMsS0FBT21DLEVBQVFuQyxLQUN2QnpFLFFBQVFDLElBQUksbUJBQW9Cc0gsRUFBUW1OLFFBQ3hDcEssRUFBTWpFLFNBQVM3QyxTQUFTdUIsSUFDdEJ1RixFQUFNL0QsWUFBWXhCLE1BR3BCd0MsRUFBUW1OLE9BQU9sUixTQUFTWCxJQUN0QjdDLFFBQVFDLElBQ0wsK0JBQThCc0gsRUFBUXpFLGdCQUNyQ0QsRUFBTUMsZUFDS2lILEtBQUs0SyxVQUFVOVIsRUFBTStELFlBR3BDNE4sRUFBSzFOLEtBQUssQ0FDUndELE1BQU9BLEVBQ1B6SCxNQUFPQSxFQUNQMEUsUUFBU0EsT0FJYnZILFFBQVFDLElBQUksa0NBQW1DcUssRUFBTWpCLGFBQ3JEeUosRUFBSWhTLE1BQU11SSxhQUFjLEVBQ3hCckosUUFBUUMsSUFBSSxrQ0FBbUNxSyxFQUFNakIsa0JBRXhCM0csSUFBekJaLE9BQU84UyxLQUFLOVEsZ0JBRUlwQixJQUFoQjhSLEVBQUt6UixRQUNMRSxNQUFNQyxRQUFRc1IsRUFBS3pSLFNBQ25CeVIsRUFBS3pSLE9BQU84RyxPQUFTLEVBRXJCMkssRUFBS3pSLE9BQU95UixFQUFLelIsT0FBTzhHLE9BQVMsR0FBR2pILE1BQU0zRCxNQUFLLEtBQzdDNkMsT0FBTzhTLEtBQUs5USxTQUFTLENBQ25Cd0csTUFBT0EsRUFDUC9DLFFBQVNBLE9BSWJ6RixPQUFPOFMsS0FBSzlRLFNBQVMsQ0FDbkJ3RyxNQUFPQSxFQUNQL0MsUUFBU0EsS0FLZnVMLEVBQUl2UyxTQUFTc1UsUUFBUUMsWUFBWTNMLEdBQUcsZUFBZ0J0RCxJQUNsRCxHQUNXLE9BQVQyTyxRQUNnQjlSLElBQWhCOFIsRUFBS3pSLFFBQ0xFLE1BQU1DLFFBQVFzUixJQUNTLElBQXZCQSxFQUFLelIsT0FBTzhHLE9BRVosT0FHRixNQUFNOUcsRUFBU3lSLEVBQUt6UixPQUFPeUgsUUFBUS9HLElBQ2pDekQsUUFBUUMsSUFBSSw0QkFBNkJ3RCxFQUFFYixNQUFNbVMsY0FDakIsU0FBekJ0UixFQUFFYixNQUFNbVMsZ0JBR2pCLEdBQXNCLElBQWxCaFMsRUFBTzhHLE9BQWMsQ0FDdkIsUUFBNkJuSCxJQUF6QlosT0FBTzhTLEtBQUs5USxTQUNkLE9BUUYsWUFMQWhDLE9BQU84UyxLQUFLOVEsU0FBUyxDQUNuQndHLE1BQU9BLEVBQ1AvQyxRQUFTQSxJQU1iLE1BQU1wRixFQUFVWSxFQUFPLEdBQUdaLFFBQ3BCUyxFQUFRRyxFQUFPLEdBQUdILE1BRXhCNUMsUUFBUUMsSUFBSSxzQkFBdUJ1VSxFQUFLelIsT0FBTzhHLFFBQy9DN0osUUFBUUMsSUFBSSxtQkFBb0IyQyxHQUNoQzVDLFFBQVFDLElBQUksc0JBQXVCa0MsR0FDbkNuQyxRQUFRQyxJQUFJLDZCQUE4QmtDLEVBQVFLLFFBQ2xEeEMsUUFBUUMsSUFBSSxvQkFBcUIyQyxHQUVqQ0EsRUFBTW9TLFlBQVksUUFFbEI3UyxFQUFRSyxPQUFPWSxNQUFRLEVBRXZCcEQsUUFBUUMsSUFBSSxrQ0FBbUN1VSxFQUFLelIsT0FBTzhHLGFBYy9EL0gsT0FBTzhTLEtBQU8sQ0FDWjdCLEtBQU1BLEVBQ05NLE9BQVFBLEdBR1YsU0FDRUEsT0FBUUEsRUFDUk4sS0FBTUEsRUFDTjNLLEtBelBXLENBQUN0RixFQUFJMkIsS0FJaEIzQyxPQUFPRyxpQkFDTCxRQUNBLEtBQ0VqQyxRQUFRQyxJQUFJLFVBQVdnVixPQUN2QkEsTUFBTTVCLE9BQU92USxFQUFJMkIsS0FQUCxDQUNaeVEsTUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL0dhbWVzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9HYW1lcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9HYW1lcy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vR2FtZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9HYW1lcy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL0dhbWVzLy4vc3JjL2FwcGxpY2F0aW9uLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL3R3ZWVuLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL2NvbmZpZy90ZXh0LnN0eWxlcy5qcyIsIndlYnBhY2s6Ly9HYW1lcy8uL3NyYy9jb25maWcvdXJsLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL2NvbnRyb2wvZHJhd2luZy5qcyIsIndlYnBhY2s6Ly9HYW1lcy8uL3NyYy9zcHJpdGUuanMiLCJ3ZWJwYWNrOi8vR2FtZXMvLi9zcmMvZHJhZ2dpbmcuanMiLCJ3ZWJwYWNrOi8vR2FtZXMvLi9zcmMvY29uZmlnL2ZyYW1lLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL3NjaGVkdWxlLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL2NvbnRyb2wvYnV0dG9uLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL3BhbmVsL2VkaXQudGV4dC5qcyIsIndlYnBhY2s6Ly9HYW1lcy8uL3NyYy9wYW5lbC9jb250cm9sL2ZyYW1lLmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL3BhbmVsL2ZyYW1lcy5qcyIsIndlYnBhY2s6Ly9HYW1lcy8uL3NyYy9jb250cm9sL3Rvb2xiYXIuanMiLCJ3ZWJwYWNrOi8vR2FtZXMvLi9zcmMvdXRpbHMvcGl4aS13ZWJmb250LWxvYWRlci5lcy5qcyIsIndlYnBhY2s6Ly9HYW1lcy8uL3NyYy91dGlscy9mb250LmpzIiwid2VicGFjazovL0dhbWVzLy4vc3JjL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJHYW1lc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJHYW1lc1wiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwbGljYXRpb24gZXh0ZW5kcyBQSVhJLkFwcGxpY2F0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIoe1xyXG4gICAgICB3aWR0aDogcHJvcHMud2lkdGgsXHJcbiAgICAgIGhlaWdodDogcHJvcHMuaGVpZ2h0LFxyXG4gICAgICBhbnRpYWxpYXM6IHRydWUsXHJcbiAgICAgIC8vIGJhY2tncm91bmRBbHBoYTogMSxcclxuICAgICAgdHJhbnNwYXJlbnQ6IDEsXHJcbiAgICAgIHJlc29sdXRpb246IDMsIC8vIOino+aekOW6pu+8miAwLTXkuYvpl7TvvIzlpKfkuo415Lul5LiK5pi+5Y2h5oCn6IO95LiN6KGM5Lya5Y2h5q27XHJcbiAgICAgIHJvdW5kUGl4ZWxzOiB0cnVlLFxyXG4gICAgICAvLyBiYWNrZ3JvdW5kQ29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcInBpeGkgdXRpbHMgaXMgbW9iaWxlOiBcIiwgUElYSS51dGlscy5pc01vYmlsZSlcclxuICAgIGNvbnNvbGUubG9nKFwicGl4aSBXZWJHTCBTdXBwb3J0ZWQ6XCIsIFBJWEkudXRpbHMuaXNXZWJHTFN1cHBvcnRlZCgpKVxyXG4gICAgY29uc29sZS5sb2coXCJwaXhpIHV0aWxzIHVybDpcIiwgUElYSS51dGlscy51cmwpXHJcbiAgICBjb25zb2xlLmxvZyhcInBpeGkgdXRpbHMgdXJsOlwiLCBQSVhJLnV0aWxzLnVybClcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUucG9zaXRpb24gPSBcInN0YXRpY1wiXHJcbiAgICB0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxyXG4gICAgdGhpcy5yZW5kZXJlci52aWV3LnN0eWxlLm1hcmdpbiA9IFwiYXV0b1wiXHJcblxyXG4gICAgdGhpcy5yZW5kZXJlci5hdXRvUmVzaXplID0gdHJ1ZVxyXG4gICAgdGhpcy5zdGFnZS5zb3J0YWJsZUNoaWxkcmVuID0gdHJ1ZVxyXG5cclxuICAgIGNvbnN0IHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgY29uc3QgcmF0aW8gPSBTQ0VORV9TSVpFLndpZHRoIC8gU0NFTkVfU0laRS5oZWlnaHRcclxuICAgICAgbGV0IHZ3ID0gTWF0aC5tYXgoXHJcbiAgICAgICAgcHJvcHMuZWxlbWVudC5jbGllbnRXaWR0aCB8fCAwLFxyXG4gICAgICAgIHByb3BzLmVsZW1lbnQuaW5uZXJXaWR0aCB8fCAwLFxyXG4gICAgICAgIHByb3BzLmVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMFxyXG4gICAgICApXHJcblxyXG4gICAgICBsZXQgdmggPSBNYXRoLm1heChcclxuICAgICAgICBwcm9wcy5lbGVtZW50LmNsaWVudEhlaWdodCB8fCAwLFxyXG4gICAgICAgIHByb3BzLmVsZW1lbnQuaW5uZXJIZWlnaHQgfHwgMCxcclxuICAgICAgICBwcm9wcy5lbGVtZW50Lm9mZnNldEhlaWdodCB8fCAwXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGlmICh2dyAvIHZoID49IHJhdGlvKSB7XHJcbiAgICAgICAgdncgPSB2aCAqIHJhdGlvXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmggPSB2dyAvIHJhdGlvXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGByZXNpemU6IGN3OiAke1NDRU5FX1NJWkUud2lkdGh9LCBjaDogJHtTQ0VORV9TSVpFLmhlaWdodH0sIHZ3OiR7dnd9LCB2aDoke3ZofSwgcmF0aW9uOiR7cmF0aW99YFxyXG4gICAgICApXHJcblxyXG4gICAgICB0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUud2lkdGggPSB2dyArIFwicHhcIlxyXG4gICAgICB0aGlzLnJlbmRlcmVyLnZpZXcuc3R5bGUuaGVpZ2h0ID0gdmggKyBcInB4XCJcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cub25yZXNpemUgPSByZXNpemUuYmluZCh0aGlzKVxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplLmJpbmQodGhpcykpXHJcblxyXG4gICAgcmVzaXplKClcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHdlZW5BY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLl90d2VlbiA9IGNyZWF0ZWpzLlR3ZWVuLmdldChvcHRpb25zLnRhcmdldCwge1xuICAgICAgbG9vcDogb3B0aW9ucy5sb29wID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IG9wdGlvbnMubG9vcCxcbiAgICB9KVxuXG4gICAgdGhpcy5ydW4oKVxuICB9XG5cbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbnNcbiAgfVxuXG4gIGdldCB0d2VlbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdHdlZW5cbiAgfVxuXG4gIHJ1bigpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fb3B0aW9uc1xuICAgIGNvbnNvbGUubG9nKFwiYWN0aW9uIG9wdGlvbnM6XCIsIG9wdGlvbnMpXG5cbiAgICBpZiAoXG4gICAgICBvcHRpb25zLmZyYW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgIG9wdGlvbnMuZnJhbWUgPT09IG51bGwgfHxcbiAgICAgIG9wdGlvbnMudGFyZ2V0ID09PSB1bmRlZmluZWQgfHxcbiAgICAgIG9wdGlvbnMudGFyZ2V0ID09PSBudWxsXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgYWN0aW9uKGZyYW1lWyR7b3B0aW9ucy5mcmFtZS5pZH1dKSBzdGFydGApXG5cbiAgICBpZiAoXG4gICAgICBvcHRpb25zLmZyYW1lLnR3ZWVucyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICBvcHRpb25zLmZyYW1lLnR3ZWVucyA9PT0gbnVsbCB8fFxuICAgICAgdHlwZW9mIG9wdGlvbnMuZnJhbWUudHdlZW5zICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICBvcHRpb25zLmZyYW1lLnR3ZWVucy50byA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAhQXJyYXkuaXNBcnJheShvcHRpb25zLmZyYW1lLnR3ZWVucy50bykgfHxcbiAgICAgIG9wdGlvbnMuZnJhbWUudHdlZW5zLnRvWzBdID09PSBudWxsXG4gICAgKSB7XG4gICAgICBvcHRpb25zLnRhcmdldC5hbHBoYSA9XG4gICAgICAgIG9wdGlvbnMuZnJhbWUuZnJhbWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBvcHRpb25zLmZyYW1lLmZyYW1lLmFscGhhID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgb3B0aW9ucy5mcmFtZS5mcmFtZS5hbHBoYSA9PT0gbnVsbFxuICAgICAgICAgID8gKG9wdGlvbnMudGFyZ2V0LmFscGhhID0gMSlcbiAgICAgICAgICA6IG9wdGlvbnMuZnJhbWUuZnJhbWUuYWxwaGFcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG9wdGlvbnMuZnJhbWUudHdlZW5zLnRvWzBdLnAgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgb3B0aW9ucy5mcmFtZS50d2VlbnMudG9bMF0ucC5hbHBoYSA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBvcHRpb25zLnRhcmdldC5hbHBoYSA9IDFcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy50YXJnZXQuYWxwaGEgPSBvcHRpb25zLmZyYW1lLnR3ZWVucy50b1swXS5wLmFscGhhXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgb3B0aW9ucy5mcmFtZS50d2VlbnMud2FpdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBvcHRpb25zLmZyYW1lLnR3ZWVucy53YWl0ICE9PSBudWxsICYmXG4gICAgICBOdW1iZXIuaXNJbnRlZ2VyKG9wdGlvbnMuZnJhbWUudHdlZW5zLndhaXQpXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYGFjdGlvbihmcmFtZVske29wdGlvbnMuZnJhbWUuaWR9XSkgIHRvOiBgLFxuICAgICAgICBvcHRpb25zLmZyYW1lLnR3ZWVuc1xuICAgICAgKVxuICAgICAgdGhpcy5fdHdlZW4ud2FpdChvcHRpb25zLmZyYW1lLnR3ZWVucy53YWl0KVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYGFjdGlvbihmcmFtZVske29wdGlvbnMuZnJhbWUuaWR9XSkgIHRvOiBgLFxuICAgICAgb3B0aW9ucy5mcmFtZS50d2VlbnNcbiAgICApXG5cbiAgICBvcHRpb25zLmZyYW1lLnR3ZWVucy50by5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgYWN0aW9uKGZyYW1lWyR7b3B0aW9ucy5mcmFtZS5pZH1dKSAgdG86IGAsIHQpXG4gICAgICB0aGlzLl90d2Vlbi50byh0LnAsIHQucywgY3JlYXRlanMuRWFzZS5nZXRQb3dJbk91dCg0KSlcbiAgICB9KVxuXG4gICAgdGhpcy5fdHdlZW4ubGFiZWwoXCJsYXN0XCIpXG5cbiAgICBpZiAob3B0aW9ucy5jb21wbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl90d2Vlbi5jYWxsKG9wdGlvbnMuY29tcGxldGUpXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBgYWN0aW9uKGZyYW1lWyR7b3B0aW9ucy5mcmFtZS5pZH1dKSBlbmQsIGZyYW1lWyR7b3B0aW9ucy5mcmFtZS5pZH1dYFxuICAgIClcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBkZWZhdWx0OiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLVJlZ3VsYXJcIixcbiAgICBmb250U2l6ZTogMTUsXG4gICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gIH0sXG4gIHRpdGxlOiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLVJlZ3VsYXJcIixcbiAgICBmb250U2l6ZTogMjAsXG4gIH0sXG4gIFwidGl0bGUtZW5cIjoge1xuICAgIGZvbnRGYW1pbHk6IFwiQmx1ZSBTa3kgTm90by1MaWdodFwiLFxuICAgIGZvbnRTaXplOiAyMCxcbiAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgfSxcbiAgXCJ0ZXh0LWxpdHRsZS1lblwiOiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgZm9udFNpemU6IDEwLFxuICB9LFxuICB0ZXh0OiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgZm9udFNpemU6IDEyLFxuICAgIGxpbmVIZWlnaHQ6IDIwLFxuICAgIGxldHRlclNwYWNpbmc6IDEsXG4gIH0sXG4gIFwidGV4dC1lblwiOiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgZm9udFNpemU6IDEyLFxuICB9LFxuICBcInRleHQtZW4taFwiOiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgZm9udFNpemU6IDEyLFxuICAgIGxpbmVIZWlnaHQ6IDIwLFxuICAgIGxldHRlclNwYWNpbmc6IDEsXG4gIH0sXG4gIFwidGl0bGUtaGlnaGxpZ2h0XCI6IHtcbiAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tTGlnaHRcIixcbiAgICBmb250U2l6ZTogMTgsXG4gICAgZmlsbDogXCIjNDhCRUJFXCIsXG4gIH0sXG4gIFwidGl0bGUtaGlnaGxpZ2h0LWVuXCI6IHtcbiAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tTGlnaHRcIixcbiAgICBmb250U2l6ZTogMTUsXG4gICAgZmlsbDogXCIjNDhCRUJFXCIsXG4gIH0sXG4gIFwidGl0bGUtbGV0dGVyXCI6IHtcbiAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tUmVndWxhclwiLFxuICAgIGZvbnRTaXplOiAxOCxcbiAgfSxcbiAgXCJ0aXRsZS1sZXR0ZXItZW5cIjoge1xuICAgIGZvbnRGYW1pbHk6IFwiQmx1ZSBTa3kgTm90by1MaWdodFwiLFxuICAgIGZvbnRTaXplOiAxNSxcbiAgfSxcbiAgXCJibHVlLWxpZ3RoLTIwXCI6IHtcbiAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tTGlnaHRcIixcbiAgICBmb250U2l6ZTogMjAsXG4gIH0sXG4gIFwiYmx1ZS1saWd0aC0yMC1ib2xkXCI6IHtcbiAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tTGlnaHRcIixcbiAgICBmb250U2l6ZTogMjAsXG4gICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gIH0sXG4gIFwiYmx1ZS1saWd0aC0xNVwiOiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgZm9udFNpemU6IDE1LFxuICB9LFxuICBcImJsdWUtbGlndGgtMTUtYlwiOiB7XG4gICAgZm9udEZhbWlseTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgZm9udFNpemU6IDE1LFxuICAgIGZpbGw6IFwiIzQ4QkVCRVwiLFxuICB9LFxuICBcImJsdWUtbGlndGgtMTBcIjoge1xuICAgIGZvbnRGYW1pbHk6IFwiQmx1ZSBTa3kgTm90by1MaWdodFwiLFxuICAgIGZvbnRTaXplOiAxMCxcbiAgfSxcbiAgXCJibHVlLWxpZ3RoLTEwLWhcIjoge1xuICAgIGZvbnRGYW1pbHk6IFwiQmx1ZSBTa3kgTm90by1MaWdodFwiLFxuICAgIGxpbmVIZWlnaHQ6IDE3LFxuICAgIGZvbnRTaXplOiAxMCxcbiAgfSxcbiAgXCJibHVlLWxpZ3RoLTEwLWJcIjoge1xuICAgIGZvbnRGYW1pbHk6IFwiQmx1ZSBTa3kgTm90by1MaWdodFwiLFxuICAgIGZvbnRTaXplOiAxMCxcbiAgICBmaWxsOiBcIiM0OEJFQkVcIixcbiAgfSxcbn1cbiIsImV4cG9ydCBjb25zdCBCYXNlVXJsID0gKGlkLCBsYW5nKSA9PiB7XG4gIHJldHVybiBgL2Fzc2V0cy9wYWdlcy8ke2lkfS9wYy8ke2xhbmd9YFxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhd2luZyBleHRlbmRzIFBJWEkuR3JhcGhpY3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKVxuICAgIGNvbnN0IGRyYXdpbmdzID0gb3B0aW9ucy5lbC5kcmF3aW5nc1xuICAgIGNvbnN0IGRyYXcgPSAoYykgPT4ge1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBkcmF3aW5nIGNvbnRyb2wsIG1ldGhvZDogJHtjLm1ldGhvZH0sIGFyZ3M6YCxcbiAgICAgICAgYy5hcmdzLFxuICAgICAgICB0aGlzW2MubWV0aG9kXVxuICAgICAgKVxuXG4gICAgICBjLmFyZ3MuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgZHJhd2luZyBjb250cm9sLCBjaGVjayBpcyBoZXggYXJncygke3Z9KTpgLFxuICAgICAgICAgIC9eMHhbMC05QS1GXXs2fSQvaS50ZXN0KHYpXG4gICAgICAgIClcbiAgICAgICAgYy5hcmdzW2ldID0gL14weFswLTlBLUZdezZ9JC9pLnRlc3QodikgPyBwYXJzZUludCh2LCAxNikgOiB2XG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZyhgZHJhd2luZyBjb250cm9sLCBmb3JtYXQgYXJnczpgLCBjLmFyZ3MpXG4gICAgICBSZWZsZWN0LmFwcGx5KHRoaXNbYy5tZXRob2RdLCB0aGlzLCBjLmFyZ3MpXG4gICAgfVxuXG4gICAgZHJhd2luZ3MuZm9yRWFjaCgoZCkgPT4ge1xuICAgICAgdGhpcy5iZWdpbkZpbGwoZC5jb2xvciwgZC5hbHBoYSlcbiAgICAgIGQuZHJhd2luZy5mb3JFYWNoKGRyYXcuYmluZCh0aGlzKSlcbiAgICAgIHRoaXMuZW5kRmlsbCgpXG4gICAgfSlcbiAgfVxuXG4gIHRlc3QoZSkge1xuICAgIGNvbnNvbGUubG9nKFwiZHJhd2luZyBjb250cm9sLCB0aGlzIGlzIHRlc3QuXCIpXG4gIH1cbn1cbiIsImltcG9ydCBUZXh0U3R5bGVzIGZyb20gXCIuL2NvbmZpZy90ZXh0LnN0eWxlc1wiXG5pbXBvcnQgeyBCYXNlVXJsIH0gZnJvbSBcIi4vY29uZmlnL3VybFwiXG5pbXBvcnQgRHJhd2luZyBmcm9tIFwiLi9jb250cm9sL2RyYXdpbmdcIlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmFkZENvbnRlbnQob3B0aW9ucy5mcmFtZSlcbiAgfVxuXG4gIGdldFN0eWxlKHR5cGUpIHtcbiAgICBjb25zdCB0ZXh0X3R5cGVzID0gVGV4dFN0eWxlc1xuXG4gICAgcmV0dXJuIHRleHRfdHlwZXNbdHlwZV1cbiAgfVxuXG4gIHJlbG9hZENvbnRlbnQob3B0aW9ucykge1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zXG5cbiAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGMpID0+IHtcbiAgICAgIGMucGFyZW50LnJlbW92ZUNoaWxkKGMpXG4gICAgfSlcblxuICAgIHRoaXMuYWRkQ29udGVudChvcHRpb25zLmZyYW1lKVxuICB9XG5cbiAgYWRkQ29udGVudChmcmFtZSkge1xuICAgIGNvbnNvbGUubG9nKFwiZGF0YTpcIiwgZnJhbWUpXG5cbiAgICB0aGlzLm5hbWUgPSBmcmFtZS5pZFxuICAgIHRoaXMueCA9IGZyYW1lLmZyYW1lLnhcbiAgICB0aGlzLnkgPSBmcmFtZS5mcmFtZS55XG5cbiAgICBsZXQgaXRlbXMgPSBbXVxuICAgIGlmICghQXJyYXkuaXNBcnJheShmcmFtZS5jb250ZW50KSkge1xuICAgICAgbGV0IGl0ZW0gPSB7XG4gICAgICAgIHA6IHtcbiAgICAgICAgICB4OiBmcmFtZS5mcmFtZS54LFxuICAgICAgICAgIHk6IGZyYW1lLmZyYW1lLnksXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICBpZiAoZnJhbWUudHlwZSA9PSBcImltZ1wiKSB7XG4gICAgICAgIGZyYW1lLnVybCA9IGZyYW1lLmNvbnRlbnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLnRleHQgPSBmcmFtZS5jb250ZW50XG4gICAgICB9XG5cbiAgICAgIGl0ZW1zLnB1c2goaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbXMgPSBmcmFtZS5jb250ZW50XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJzcHJpdGUgYWRkIGNvbnRlbnQsIGZyYW1lIGNvbnRlbnQ6IFwiLCBmcmFtZS5jb250ZW50LCBpdGVtcylcblxuICAgIGl0ZW1zLmZvckVhY2godGhpcy5hZGRJdGVtcy5iaW5kKHRoaXMpKVxuICB9XG5cbiAgYWRkSXRlbXMoZWwpIHtcbiAgICBjb25zb2xlLmxvZyhcInNwcml0ZSBhZGQgaXRlbSwgZWw6IFwiLCBlbClcbiAgICBpZiAoZWwudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoZWwudHlwZSA9PT0gXCJ0eHRcIikge1xuICAgICAgY29uc3Qgc3R5bGUgPVxuICAgICAgICBlbFtcInN0eWxlLXR5cGVcIl0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdGhpcy5nZXRTdHlsZShlbFtcInN0eWxlLXR5cGVcIl0pXG4gICAgICAgICAgOiBlbC5zdHlsZVxuXG4gICAgICBjb25zb2xlLmxvZyhcInNwcml0ZSBhZGQgaXRlbSwgc3R5bGU6IFwiLCBlbC50ZXh0LCBzdHlsZSlcbiAgICAgIGlmIChQSVhJLnV0aWxzLmlzTW9iaWxlLmFwcGxlLmRldmljZSkge1xuICAgICAgICBpZiAoc3R5bGUuZm9udFdlaWdodCA9PT0gXCJib2xkXCIpIHtcbiAgICAgICAgICBzdHlsZS5sZXR0ZXJTcGFjaW5nID0gLTEuNFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0eWxlLmxldHRlclNwYWNpbmcgPSAtMC4yXG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcInNwcml0ZSBhZGQgaXRlbSwgYXBwbGUsIHN0eWxlOiBcIiwgZWwudGV4dCwgc3R5bGUpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRleHQgPSBuZXcgUElYSS5UZXh0KGVsLnRleHQsIG5ldyBQSVhJLlRleHRTdHlsZShzdHlsZSkpXG5cbiAgICAgIGNvbnNvbGUubG9nKFwic3ByaXRlIGFkZCBpdGVtLCBlbC5wOiBcIiwgZWwucCwgZWwpXG4gICAgICBpZiAoZWwucCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRleHQueCA9IGVsLnAueFxuICAgICAgICB0ZXh0LnkgPSBlbC5wLnlcbiAgICAgIH1cblxuICAgICAgdGhpcy5hZGRDaGlsZCh0ZXh0KVxuXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICBlbDogZWwsXG4gICAgICBiYXNlX3VybDogQmFzZVVybCh0aGlzLl9vcHRpb25zLnRleHR1cmUuaWQsIHRoaXMuX29wdGlvbnMudGV4dHVyZS5sYW5nKSxcbiAgICAgIGZyYW1lOiB0aGlzLl9vcHRpb25zLmZyYW1lLFxuICAgICAgdGV4dHVyZTogdGhpcy5fb3B0aW9ucy50ZXh0dXJlLFxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBzcHJpdGUgYWRkIGl0ZW0sIGltZzogJHtlbC51cmx9LCB0eXBlOiAke2VsLnR5cGV9IGAsIGVsKVxuICAgIHN3aXRjaCAoZWwudHlwZSkge1xuICAgICAgY2FzZSBcImFudFwiOlxuICAgICAgICBjb25zb2xlLmxvZyhgc3ByaXRlIGFkZCBpdGVtLCB0byBjcmVhdGUgYW5pbWF0ZWQgc3ByaXRlOiBgLCBlbClcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRlZFNwcml0ZShwYXJhbXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgIHRoaXMubG9hZEltYWdlVGV4dHVyZShwYXJhbXMpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIFwiZHJhd1wiOlxuICAgICAgICBjb25zdCBzcHJpdGUgPSBuZXcgRHJhd2luZyh7XG4gICAgICAgICAgZWw6IGVsLFxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2V0dGluZyhcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHBhcmFtcywge1xuICAgICAgICAgICAgc3ByaXRlOiBzcHJpdGUsXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmFkZENoaWxkKHNwcml0ZSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVBbmltYXRlZFNwcml0ZShvcHRpb25zKSB7XG4gICAgY29uc29sZS5sb2coYHNwcml0ZSBjcmVhdGUgYW5pbWF0ZWQgc3ByaXRlLCBvcHRpb25zOiBgLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZWwucmFuZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG5ldyBQSVhJLlRleHQoXCLmnKrmib7liLDliqjnlLvnmoRyYW5n6YWN572uXCIpXG4gICAgfVxuXG4gICAgY29uc3QgbG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKClcbiAgICBjb25zdCBlbCA9IG9wdGlvbnMuZWxcbiAgICBjb25zdCB0ZXh0dXJlcyA9IFtdXG4gICAgY29uc3QgcmFuZ2UgPSBlbC5yYW5nZVxuICAgIGNvbnN0IG1heCA9IDEwMDBcbiAgICBmb3IgKGxldCBpID0gcmFuZ2Uuc3RhcnQ7IGkgPD0gcmFuZ2UuZW5kOyBpKyspIHtcbiAgICAgIGlmIChpID4gbWF4IHx8IGkgPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5UZXh0KFwi5pyq5om+5Yiw5Yqo55S755qEcmFuZ+mFjee9rlwiKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB1cmwgPSBgJHtvcHRpb25zLmJhc2VfdXJsfS8ke2VsLnVybH0uJHtpfS5qcGdgXG4gICAgICBsb2FkZXIuYWRkKGAke2VsLnVybH0tJHtpfWAsIHVybClcbiAgICB9XG5cbiAgICBjb25zdCBjYWxsYmFjayA9IChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2coYHNwcml0ZSBjcmVhdGUgYW5pbWF0ZWQgc3ByaXRlLCByZXNvdXJjZXM6IGAsIHJlc291cmNlcylcblxuICAgICAgT2JqZWN0LmtleXMocmVzb3VyY2VzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGBzcHJpdGUgY3JlYXRlIGFuaW1hdGVkIHNwcml0ZSwgcmVzb3VyY2U6IGAsXG4gICAgICAgICAgcmVzb3VyY2VzW2tdLnRleHR1cmVcbiAgICAgICAgKVxuICAgICAgICB0ZXh0dXJlcy5wdXNoKHJlc291cmNlc1trXS50ZXh0dXJlKVxuICAgICAgfSlcblxuICAgICAgY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpXG5cbiAgICAgIHRoaXMuc2V0dGluZyhcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XG4gICAgICAgICAgc3ByaXRlOiBzcHJpdGUsXG4gICAgICAgICAgYmFzZV90ZXh0dXJlOiB0ZXh0dXJlc1swXS5iYXNlVGV4dHVyZSxcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgICAgc3ByaXRlLmxvb3AgPSBlbC5sb29wID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGVsLmxvb3BcbiAgICAgIHNwcml0ZS5hbmltYXRpb25TcGVlZCA9IDAuNVxuICAgICAgc3ByaXRlLnBsYXkoKVxuXG4gICAgICB0aGlzLmFkZENoaWxkKHNwcml0ZSlcbiAgICB9XG5cbiAgICBsb2FkZXIubG9hZCgpXG4gICAgbG9hZGVyLm9uQ29tcGxldGUuYWRkKGNhbGxiYWNrLmJpbmQodGhpcykpXG4gIH1cblxuICBsb2FkSW1hZ2VUZXh0dXJlKG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLmxvZyhgc3ByaXRlIGFkZCBpdGVtLCBvcHRpb25zOiBgLCBvcHRpb25zKVxuXG4gICAgY29uc3QgZWwgPSBvcHRpb25zLmVsXG4gICAgbGV0IHVybCA9IGAke0Jhc2VVcmwoXG4gICAgICB0aGlzLl9vcHRpb25zLnRleHR1cmUuaWQsXG4gICAgICB0aGlzLl9vcHRpb25zLnRleHR1cmUubGFuZ1xuICAgICl9L2BcbiAgICBjb25zb2xlLmxvZyhcInNwcml0ZSBhZGQgaXRlbSwgaW1nLCBlbDogXCIsIGVsKVxuICAgIGlmICh0eXBlb2YgZWwgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHVybCA9IGAke3VybH0ke2VsLnVybH1gXG4gICAgfSBlbHNlIHtcbiAgICAgIHVybCA9IGAke3VybH0ke2VsfWBcbiAgICB9XG5cbiAgICBsZXQgYmFzZV90ZXh0dXJlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUodXJsKVxuICAgIGNvbnN0IGNyZWF0ZVNwcml0ZSA9IHRoaXMuY3JlYXRlSW1hZ2VTcHJpdGUuYmluZCh0aGlzKVxuICAgIGlmIChiYXNlX3RleHR1cmUuaGFzTG9hZGVkKSB7XG4gICAgICBjb25zb2xlLmxvZyhgc3ByaXRlIGFkZCBpdGVtLCBiYXNlIHRleHR1cmUgaGFzIGxvYWRlZDogYCwgdXJsKVxuICAgICAgdGhpcy5hZGRDaGlsZChcbiAgICAgICAgY3JlYXRlU3ByaXRlKFxuICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywge1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBiYXNlX3RleHR1cmU6IG5ldyBQSVhJLlRleHR1cmUoYmFzZV90ZXh0dXJlKSxcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNwcml0ZSA9IGNyZWF0ZVNwcml0ZShcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgYmFzZV90ZXh0dXJlOiBuZXcgUElYSS5UZXh0dXJlKGJhc2VfdGV4dHVyZSksXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJzcHJpdGUgYWRkIGl0ZW0sIGJhc2UgdGV4dHVyZSBsb2FkIGNvbXBsZXRlOiBcIixcbiAgICAgICAgdXJsLFxuICAgICAgICBzcHJpdGUsXG4gICAgICAgIHRoaXNcbiAgICAgIClcbiAgICAgIHRoaXMuYWRkQ2hpbGQoc3ByaXRlKVxuICAgIH1cblxuICAgIGJhc2VfdGV4dHVyZS5vbihcImxvYWRlZFwiLCBjYWxsYmFjay5iaW5kKHRoaXMpKVxuICB9XG5cbiAgY3JlYXRlSW1hZ2VTcHJpdGUob3B0aW9ucykge1xuICAgIGNvbnNvbGUubG9nKGBzcHJpdGUgY3JlYXRlIGltYWdlKCR7b3B0aW9ucy51cmx9KSBzcHJpdGUsIG9wdGlvbnM6YCwgb3B0aW9ucylcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBzcHJpdGUgY3JlYXRlIGltYWdlKCR7b3B0aW9ucy51cmx9KSBzcHJpdGUsIHRleHR1cmUgdzoke29wdGlvbnMudGV4dHVyZS53aWR0aH0sIGg6ICR7b3B0aW9ucy50ZXh0dXJlLmhlaWdodH1gXG4gICAgKVxuXG4gICAgLy8gY29uc3QgYml0bWFwID1cbiAgICAvLyAgIGZyYW1lLnR5cGUgPT09IFwidHlwZVwiXG4gICAgLy8gICAgID8gbmV3IFBpeGlBcG5nQW5nR2lmKHRleHR1cmUpXG4gICAgLy8gICAgIDogbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpXG4gICAgY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKG9wdGlvbnMuYmFzZV90ZXh0dXJlKVxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJzcHJpdGUgY3JlYXRlIGltYWdlKCR7b3B0aW9ucy51cmx9KSBzcHJpdGU6IFwiLFxuICAgICAgc3ByaXRlLFxuICAgICAgb3B0aW9ucy5iYXNlX3RleHR1cmVcbiAgICApXG4gICAgY29uc29sZS5sb2coXG4gICAgICBgc3ByaXRlIGNyZWF0ZSBpbWFnZSgke29wdGlvbnMudXJsfSkgc3ByaXRlLCBiaXRtYXAgdzoke3Nwcml0ZS53aWR0aH0sIGg6ICR7c3ByaXRlLmhlaWdodH1gXG4gICAgKVxuXG4gICAgdGhpcy5zZXR0aW5nKFxuICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XG4gICAgICAgIHNwcml0ZTogc3ByaXRlLFxuICAgICAgICBiYXNlX3RleHR1cmU6IG9wdGlvbnMuYmFzZV90ZXh0dXJlLFxuICAgICAgfSlcbiAgICApXG5cbiAgICByZXR1cm4gc3ByaXRlXG4gIH1cblxuICBzZXR0aW5nKG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLmxvZyhgc3ByaXRlIHNldHRpbmcsIG9wdGlvbnM6IGAsIG9wdGlvbnMpXG5cbiAgICBjb25zdCBlbCA9IG9wdGlvbnMuZWxcbiAgICBjb25zdCBmcmFtZSA9IG9wdGlvbnMuZnJhbWVcbiAgICBjb25zdCBzcHJpdGUgPSBvcHRpb25zLnNwcml0ZVxuXG4gICAgaWYgKGVsLmZsb3cgIT09IHVuZGVmaW5lZCAmJiBlbC5mbG93ICE9PSBudWxsKSB7XG4gICAgICBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICBzcHJpdGUub24oXCJwb2ludGVyZG93blwiLCAoZSkgPT4ge1xuICAgICAgICBsb2NhdGlvbi5ocmVmID0gZWwuZmxvd1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoZnJhbWUuc291cmNlU2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmcmFtZS5zb3VyY2VTaXplID0ge31cbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5iYXNlX3RleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS5sb2coYHNwcml0ZSBzZXR0aW5nLCBiYXNlX3RleHR1cmU6IGAsIG9wdGlvbnMuYmFzZV90ZXh0dXJlKVxuICAgICAgZnJhbWUuc291cmNlU2l6ZS53ID0gb3B0aW9ucy5iYXNlX3RleHR1cmUud2lkdGhcbiAgICAgIGZyYW1lLnNvdXJjZVNpemUuaCA9IG9wdGlvbnMuYmFzZV90ZXh0dXJlLmhlaWdodFxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJzcHJpdGUgc2V0dGluZywgZGF0YS5zb3VyY2VTaXplLnNjYWxlLnJhdGlvOiBcIixcbiAgICAgIGZyYW1lLnNvdXJjZVNpemUsXG4gICAgICBmcmFtZVxuICAgIClcblxuICAgIGlmIChcbiAgICAgIGZyYW1lLnNvdXJjZVNpemUuc2NhbGUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgZnJhbWUuc291cmNlU2l6ZS5zY2FsZS5yYXRpbyA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInNwcml0ZSBzZXR0aW5nLCBkYXRhLnNvdXJjZVNpemUuc2NhbGUucmF0aW86IG5vIGV4aXN0cy5cIilcbiAgICAgIGlmIChmcmFtZS5mcmFtZS53ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3ByaXRlLndpZHRoID0gZnJhbWUuZnJhbWUud1xuICAgICAgfVxuICAgICAgaWYgKGZyYW1lLmZyYW1lLmggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzcHJpdGUuaGVpZ2h0ID0gZnJhbWUuZnJhbWUuaFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJzcHJpdGUgc2V0dGluZywgZGF0YS5zb3VyY2VTaXplLnNjYWxlLnJhdGlvOlwiLFxuICAgICAgICBmcmFtZS5zb3VyY2VTaXplLnNjYWxlLnJhdGlvXG4gICAgICApXG4gICAgICBzcHJpdGUuc2NhbGUuc2V0KGZyYW1lLnNvdXJjZVNpemUuc2NhbGUucmF0aW8pXG4gICAgfVxuXG4gICAgaWYgKGZyYW1lLnR3ZWVucyA9PT0gdW5kZWZpbmVkIHx8IGZyYW1lLnR3ZWVucyA9PT0gbnVsbCkge1xuICAgICAgdGhpcy54ID0gZnJhbWUuZnJhbWUueFxuICAgICAgdGhpcy55ID0gZnJhbWUuZnJhbWUueVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBmcmFtZS50d2VlbnMudG8gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgQXJyYXkuaXNBcnJheShmcmFtZS50d2VlbnMudG8pICYmXG4gICAgICBmcmFtZS50d2VlbnMudG8ubGVuZ3RoID4gMFxuICAgICkge1xuICAgICAgaWYgKGZyYW1lLnR3ZWVucy50b1swXSAhPT0gbnVsbCAmJiBmcmFtZS50d2VlbnMudG9bMF0ucCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMueCA9IGZyYW1lLnR3ZWVucy50b1swXS5wLnhcbiAgICAgICAgdGhpcy55ID0gZnJhbWUudHdlZW5zLnRvWzBdLnAueVxuICAgICAgICBpZiAoZnJhbWUudHdlZW5zLnRvWzBdLnAuYWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuYWxwaGEgPSBmcmFtZS50d2VlbnMudG9bMF0ucC5hbHBoYVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYWxwaGEgPSAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgc3ByaXRlIHNldHRpbmcsIGNvbXBsZXRlLmApXG4gIH1cbn1cbiIsImltcG9ydCBGcmFtZUFwaSBmcm9tIFwiLi9hcGkvdGV4dHVyZS5mcmFtZVwiXG5pbXBvcnQgZnJhbWUgZnJvbSBcIi4vY29uZmlnL2ZyYW1lXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdnaW5nIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGlmICghREVCVUcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHNwcml0ZSA9IG9wdGlvbnMudGFyZ2V0XG4gICAgc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgIHNwcml0ZS5kcmFnZ2luZyA9IGZhbHNlXG4gICAgbGV0IG9mZnNldCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH1cblxuICAgIGxldCBzb3VyY2UgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICB9XG5cbiAgICBjb25zdCB1cF9ldmVudHMgPSBbXCJwb2ludGVydXBcIiwgXCJ0b3VjaGVuZFwiLCBcIm1vdXNldXBcIl1cbiAgICBjb25zdCBzeW5jID0gKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZHJhZ2dpbmcgc3luYyB0eXBlOlwiLCBlLmRhdGEub3JpZ2luYWxFdmVudC50eXBlKVxuXG4gICAgICBpZiAob3B0aW9ucy5mcmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYGRyYWdnaW5nIHN5bmMsIG9wdGlvbnMuZnJhbWUgaXMgdW5kZWZpbmVkOiBgLCBvcHRpb25zKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgc3ByaXRlLnggPSBNYXRoLmZsb29yKGUuZGF0YS5nbG9iYWwueCAtIG9mZnNldC54KVxuICAgICAgc3ByaXRlLnkgPSBNYXRoLmZsb29yKGUuZGF0YS5nbG9iYWwueSAtIG9mZnNldC55KVxuICAgICAgb3B0aW9ucy5mcmFtZS5mcmFtZS54ID0gc3ByaXRlLnhcbiAgICAgIG9wdGlvbnMuZnJhbWUuZnJhbWUueSA9IHNwcml0ZS55XG4gICAgICBvcHRpb25zLmZyYW1lLnRleHR1cmVfaWQgPSBvcHRpb25zLnRleHR1cmUuaWRcbiAgICAgIGlmIChzcHJpdGUueCA+PSBTQ0VORV9TSVpFLndpZHRoIHx8IHNwcml0ZS55ID49IFNDRU5FX1NJWkUuaGVpZ2h0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBkcmFnZ2luZyBzeW5jLCByZW1vdmUgZnJhbWUgYnkgaWQ6IGAsIG9wdGlvbnMpXG4gICAgICAgIG9wdGlvbnMudGV4dHVyZS5mcmFtZXMgPSBvcHRpb25zLnRleHR1cmUuZnJhbWVzLmZpbHRlcihcbiAgICAgICAgICAoZnJhbWUpID0+IGZyYW1lLmlkICE9IG9wdGlvbnMuZnJhbWUuaWRcbiAgICAgICAgKVxuICAgICAgICBjb25zb2xlLmxvZyhgZHJhZ2dpbmcgc3luYywgcmVtb3ZlIGZyYW1lIGJ5IGlkOiBgLCBvcHRpb25zKVxuICAgICAgICBvcHRpb25zLnNjZWVuLnJlbW92ZUNoaWxkKHNwcml0ZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlzX3VwID0gdXBfZXZlbnRzLmluZGV4T2YoXG4gICAgICAgIChpdGVtKSA9PiBpdGVtID09PSBlLmRhdGEub3JpZ2luYWxFdmVudC50eXBlXG4gICAgICApXG5cbiAgICAgIGlmICghaXNfdXApIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgXCJkcmFnZ2luZyBzeW5jLCBjdXJyZW50IG5vdCBpcyB1cCBldmVudDpcIixcbiAgICAgICAgICBlLmRhdGEub3JpZ2luYWxFdmVudC50eXBlLFxuICAgICAgICAgIGlzX3VwXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGBkcmFnZ2luZyBzeW5jLCBubyBjYWxsYmFrLCBzdGFydCBtb3ZlIHNwcml0ZSBhbmQgdXBkYXRlLmApXG4gICAgICBjb25zb2xlLmxvZyhgZHJhZ2dpbmcgc3luYywgdG9vbGJhciBwb3N0IHRleHR1cmUganNvbmApXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYGRyYWdnaW5nIHN5bmMsIG9wdGlvbnMuZnJhbWUuZnJhbWUueCgke29wdGlvbnMuZnJhbWUuZnJhbWUueH0pID0gc3ByaXRlLngoJHtzcHJpdGUueH0pYFxuICAgICAgKVxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIGBkcmFnZ2luZyBzeW5jLCBvcHRpb25zLmZyYW1lLmZyYW1lLnkoJHtvcHRpb25zLmZyYW1lLmZyYW1lLnl9KSA9IHNwcml0ZS55KCR7c3ByaXRlLnl9KWBcbiAgICAgIClcblxuICAgICAgY29uc29sZS5sb2coYGRyYWdnaW5nIHN5bmMsIHRvb2xiYXIgcG9zdCB0ZXh0dXJlIHVwZGF0ZTogYCwgb3B0aW9ucylcblxuICAgICAgaWYgKHNvdXJjZS54ICE9IHNwcml0ZS54IHx8IHNvdXJjZS55ICE9IHNwcml0ZS55KSB7XG4gICAgICAgIG9wdGlvbnMuZnJhbWUudHdlZW5zID0gbnVsbFxuICAgICAgfVxuICAgIH1cblxuICAgIHNwcml0ZS5vbihcInBvaW50ZXJkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcInBvaW50ZXJkb3duXCIpXG4gICAgICBzb3VyY2UgPSB7XG4gICAgICAgIHg6IHNwcml0ZS54LFxuICAgICAgICB5OiBzcHJpdGUueSxcbiAgICAgIH1cblxuICAgICAgb2Zmc2V0LnggPSBlLmRhdGEuZ2xvYmFsLnggLSBzcHJpdGUueFxuICAgICAgb2Zmc2V0LnkgPSBlLmRhdGEuZ2xvYmFsLnkgLSBzcHJpdGUueVxuXG4gICAgICBzeW5jKGUpXG5cbiAgICAgIHNwcml0ZS5kcmFnZ2luZyA9IHRydWVcbiAgICB9KVxuXG4gICAgc3ByaXRlLm9uKFwicG9pbnRlcm1vdmVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwicG9pbnRlcm1vdmVcIilcbiAgICAgIC8vIGNvbnNvbGUubG9nKGB4KCR7ZS5kYXRhLmdsb2JhbC54fSksIHkoJHtlLmRhdGEuZ2xvYmFsLnl9KWApXG5cbiAgICAgIGlmIChzcHJpdGUuZHJhZ2dpbmcpIHtcbiAgICAgICAgc3luYyhlKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zdCB1cCA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcInBvaW50ZXJ1cFwiKVxuXG4gICAgICBzcHJpdGUuZHJhZ2dpbmcgPSBmYWxzZVxuXG4gICAgICBzeW5jKGUpXG4gICAgfVxuXG4gICAgdXBfZXZlbnRzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHNwcml0ZS5vbihcInRvdWNoZW5kXCIsIHVwKVxuICAgICAgc3ByaXRlLm9uKFwicG9pbnRlcnVwXCIsIHVwKVxuICAgICAgc3ByaXRlLm9uKFwibW91c2V1cFwiLCB1cClcbiAgICB9KVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIHJldHVybiBKU09OLnBhcnNlKGBcbiAgICB7XG4gICAgICBcImlkXCI6IFwiNDRlZmJlYjctYzM1NC00MjEwLWE2MTktMTU2Y2E4MDczMDAxXCIsXG4gICAgICBcIm5hbWVcIjogbnVsbCxcbiAgICAgIFwicm90YXRlZFwiOiAwLFxuICAgICAgXCJ0cmltbWVkXCI6IDEsXG4gICAgICBcInRleHR1cmVfaWRcIjogXCIyMjg3NWEzZC1lYTA4LTQ2ZDQtYWFmZS01ZmNlMTg0OGIyYWJcIixcbiAgICAgIFwiYW5pbWF0aW9uXCI6IG51bGwsXG4gICAgICBcInR3ZWVuc1wiOiBudWxsLFxuICAgICAgXCJzdHlsZVwiOiB7XG4gICAgICAgIFwiYW5pbWF0aW9uXCI6IFwiYm91bmNlSW5VcCAwLjVzIDJzIGVhc2UgYm90aFwiLFxuICAgICAgICBcIm1hcmdpbkxlZnRcIjogXCI0dndcIixcbiAgICAgICAgXCJ3aWR0aFwiOiBcIjI2dndcIlxuICAgICAgfSxcbiAgICAgIFwibGFiZWxcIjogbnVsbCxcbiAgICAgIFwidHlwZVwiOiBcImltZ1wiLFxuICAgICAgXCJjb250ZW50XCI6IG51bGwsXG4gICAgICBcImZsb3dcIjogbnVsbCxcbiAgICAgIFwiZnJhbWVcIjoge1xuICAgICAgICBcImlkXCI6IFwiZDM3N2UzY2MtMjZkMy00YWFhLTlkM2EtNDRlMGEwNDk3MDU4XCIsXG4gICAgICAgIFwidGV4dHVyZV9mcmFtZXNfaWRcIjogXCI0NGVmYmViNy1jMzU0LTQyMTAtYTYxOS0xNTZjYTgwNzMwMDFcIixcbiAgICAgICAgXCJ4XCI6IFwiMFwiLFxuICAgICAgICBcInlcIjogXCIwXCIsXG4gICAgICAgIFwid1wiOiBudWxsLFxuICAgICAgICBcImhcIjogbnVsbFxuICAgICAgfSxcbiAgICAgIFwicGl2b3RcIjoge1xuICAgICAgICBcImlkXCI6IFwiNjllN2I5YjYtZWIzOS00YTI4LWJkNTctMGU4MjE1NGMyMzdiXCIsXG4gICAgICAgIFwidGV4dHVyZV9mcmFtZXNfaWRcIjogXCIyQjU1MkYxRi03OTE4LTQwREQtOEEyQy0wNkJGMjlBRkYwNjNcIixcbiAgICAgICAgXCJ4XCI6IDUxMCxcbiAgICAgICAgXCJ5XCI6IDUwMFxuICAgICAgfSxcbiAgICAgIFwic291cmNlU2l6ZVwiOiB7XG4gICAgICAgIFwiaWRcIjogXCIxOGQ4YWFiNS0yOGY5LTQ2M2YtYjI3Zi01OWVlZDM1YjEwMzJcIixcbiAgICAgICAgXCJ0ZXh0dXJlX2ZyYW1lc19pZFwiOiBcIjJCNTUyRjFGLTc5MTgtNDBERC04QTJDLTA2QkYyOUFGRjA2M1wiLFxuICAgICAgICBcIndcIjogbnVsbCxcbiAgICAgICAgXCJoXCI6IG51bGwsXG4gICAgICAgIFwic2NhbGVcIjoge1xuICAgICAgICAgIFwiZGVzY1wiOiBcIue8qeaUvuavlOS+i1wiLFxuICAgICAgICAgIFwicmF0aW9cIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJzcHJpdGVTb3VyY2VTaXplXCI6IHtcbiAgICAgICAgXCJpZFwiOiBcIjFkOGU4MmEyLTg3N2QtNDY4ZC04ZGFlLTczMTA2OGUwZTg2MlwiLFxuICAgICAgICBcInRleHR1cmVfZnJhbWVzX2lkXCI6IFwiMkI1NTJGMUYtNzkxOC00MERELThBMkMtMDZCRjI5QUZGMDYzXCIsXG4gICAgICAgIFwieFwiOiAwLFxuICAgICAgICBcInlcIjogMCxcbiAgICAgICAgXCJ3XCI6IDM3NSxcbiAgICAgICAgXCJoXCI6IDgxMlxuICAgICAgfVxuICAgIH1cbiAgICBgKVxufVxuIiwiaW1wb3J0IFR3ZWVuQWN0aW9uIGZyb20gXCIuL3R3ZWVuXCJcbmltcG9ydCBTcHJpdGUgZnJvbSBcIi4vc3ByaXRlXCJcbmltcG9ydCBEcmFnZ2luZyBmcm9tIFwiLi9kcmFnZ2luZ1wiXG5pbXBvcnQgZnJhbWUgZnJvbSBcIi4vY29uZmlnL2ZyYW1lXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjaGVkdWxlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuY29udGVudF9pZCA9IG9wdGlvbnMuY29udGVudF9pZFxuICAgIHRoaXMuX3R3ZWVucyA9IFtdXG4gIH1cblxuICBzZXQgdHdlZW5zKHZhbCkge1xuICAgIHRoaXMuX3R3ZWVucyA9IHZhbFxuICB9XG5cbiAgZ2V0IHR3ZWVucygpIHtcbiAgICByZXR1cm4gdGhpcy5fdHdlZW5zXG4gIH1cblxuICBwdXNoKG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLmxvZyhcInNjaGVkdWxlIGZyYW1lOiBcIiwgb3B0aW9ucy5mcmFtZSlcbiAgICBjb25zdCBzcHJpdGVfZXhpc3RpbmcgPSBvcHRpb25zLnNjZWVuLmNoaWxkcmVuLmZpbmQoXG4gICAgICAoZSkgPT4gZS5uYW1lID09PSBvcHRpb25zLmZyYW1lLmlkXG4gICAgKVxuXG4gICAgaWYgKHNwcml0ZV9leGlzdGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzcHJpdGVfZXhpc3RpbmcucGFyZW50LnJlbW92ZUNoaWxkKHNwcml0ZV9leGlzdGluZylcbiAgICB9XG5cbiAgICB0aGlzLl90d2VlbnMgPSB0aGlzLl90d2VlbnMuZmlsdGVyKChlKSA9PiBlLm5hbWUgIT09IG9wdGlvbnMuZnJhbWUuaWQpXG5cbiAgICBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHtcbiAgICAgIGZyYW1lOiBvcHRpb25zLmZyYW1lLFxuICAgICAgdGV4dHVyZTogb3B0aW9ucy50ZXh0dXJlLFxuICAgIH0pXG5cbiAgICBvcHRpb25zLnNjZWVuLmFkZENoaWxkKHNwcml0ZSlcblxuICAgIGNvbnN0IGRyYWdnaW5nID0gbmV3IERyYWdnaW5nKHtcbiAgICAgIHNjZWVuOiBvcHRpb25zLnNjZWVuLFxuICAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAgICBmcmFtZTogb3B0aW9ucy5mcmFtZSxcbiAgICAgIHRleHR1cmU6IG9wdGlvbnMudGV4dHVyZSxcbiAgICB9KVxuXG4gICAgY29uc3QgdHdlZW5fb3B0aW9ucyA9IHtcbiAgICAgIGlkOiBmcmFtZS5pZCxcbiAgICAgIHRhcmdldDogc3ByaXRlLFxuICAgICAgZnJhbWU6IG9wdGlvbnMuZnJhbWUsXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJwdXNoIG9wdGlvbnM6IFwiLCB0d2Vlbl9vcHRpb25zKVxuICAgIGNvbnNvbGUubG9nKFwiZGF0YS5hbmltYXRpb246IFwiLCBvcHRpb25zLmZyYW1lLmFuaW1hdGlvbilcblxuICAgIGlmIChvcHRpb25zLmZyYW1lLnR3ZWVucyA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMuZnJhbWUudHdlZW5zID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHdlZW5fb3B0aW9uc1xuICAgIH1cblxuICAgIHRoaXMuX3R3ZWVucy5wdXNoKG5ldyBUd2VlbkFjdGlvbih0d2Vlbl9vcHRpb25zKSlcblxuICAgIGNvbnNvbGUubG9nKFwidHdlZW5zIHB1c2g6IFwiLCB0aGlzLl90d2VlbnMsIHRoaXMuX3R3ZWVucylcbiAgfVxufVxuIiwiLyoqXG4gKiBBbiBVSSBidXR0b24gb2JqZWN0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gdHJ1ZVxuXG4gICAgdGhpcy5kcmF3Qm94KClcbiAgfVxuXG4gIGRyYXdCb3goKSB7XG4gICAgdGhpcy5fYm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgIHRoaXMuX2JveC5iZWdpbkZpbGwoMHhmZmZmZmYpXG4gICAgdGhpcy5fYm94LmxpbmVTdHlsZSgxLCAweGUwZTBlMCwgMSlcbiAgICB0aGlzLl9ib3guZHJhd1JvdW5kZWRSZWN0KFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB0aGlzLl9vcHRpb25zLndpZHRoLFxuICAgICAgdGhpcy5fb3B0aW9ucy5oZWlnaHQsXG4gICAgICA2XG4gICAgKVxuICAgIHRoaXMuX2JveC5lbmRGaWxsKClcbiAgICB0aGlzLl9ib3guekluZGV4ID0gMFxuXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9ib3gpXG5cbiAgICB0aGlzLnRleHQoKVxuICB9XG5cbiAgdXAoKSB7XG4gICAgaWYgKHRoaXMuX2JveCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2JveClcbiAgICB9XG5cbiAgICB0aGlzLl9ib3ggPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgdGhpcy5fYm94LmJlZ2luRmlsbCgweGZmZmZmZilcbiAgICB0aGlzLl9ib3gubGluZVN0eWxlKDEsIDB4ZTBlMGUwLCAxKVxuICAgIHRoaXMuX2JveC5kcmF3Um91bmRlZFJlY3QoXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHRoaXMuX29wdGlvbnMud2lkdGgsXG4gICAgICB0aGlzLl9vcHRpb25zLmhlaWdodCxcbiAgICAgIDZcbiAgICApXG4gICAgdGhpcy5fYm94LmVuZEZpbGwoKVxuICAgIHRoaXMuX2JveC56SW5kZXggPSAwXG5cbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2JveClcbiAgfVxuXG4gIHNlbGVjdGVkKCkge1xuICAgIGlmICh0aGlzLl9ib3ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9ib3gpXG4gICAgfVxuXG4gICAgdGhpcy5fYm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgIHRoaXMuX2JveC5iZWdpbkZpbGwoMHhmZmZmZmYpXG4gICAgdGhpcy5fYm94LmxpbmVTdHlsZSgxLCAweGNjMDAzMywgMSlcbiAgICB0aGlzLl9ib3guZHJhd1JvdW5kZWRSZWN0KFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB0aGlzLl9vcHRpb25zLndpZHRoLFxuICAgICAgdGhpcy5fb3B0aW9ucy5oZWlnaHQsXG4gICAgICA2XG4gICAgKVxuICAgIHRoaXMuX2JveC5lbmRGaWxsKClcbiAgICB0aGlzLl9ib3guekluZGV4ID0gMFxuXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9ib3gpXG4gIH1cblxuICB0ZXh0KCkge1xuICAgIGNvbnN0IHRleHQgPSBuZXcgUElYSS5UZXh0KFxuICAgICAgdGhpcy5fb3B0aW9ucy50ZXh0LFxuICAgICAgdGhpcy5fb3B0aW9ucy5zdHlsZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8geyBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tUmVndWxhclwiLCBmb250U2l6ZTogMjAgfVxuICAgICAgICA6IHRoaXMuX29wdGlvbnMuc3R5bGVcbiAgICApXG5cbiAgICB0ZXh0LnggPSA1XG4gICAgdGV4dC55ID0gNVxuXG4gICAgdGV4dC56SW5kZXggPSAxMTAwXG5cbiAgICB0aGlzLmFkZENoaWxkKHRleHQpXG4gIH1cbn1cbiIsImltcG9ydCB0ZXh0U3R5bGVzIGZyb20gXCIuLi9jb25maWcvdGV4dC5zdHlsZXNcIlxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vY29udHJvbC9idXR0b25cIlxuaW1wb3J0IE5ld0ZyYW1lIGZyb20gXCIuLi9jb25maWcvZnJhbWVcIlxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIlxuaW1wb3J0IEZyYW1lQXBpIGZyb20gXCIuLi9hcGkvdGV4dHVyZS5mcmFtZVwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0VGV4dFBhbmVsIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLl9mcmFtZSA9IE5ld0ZyYW1lKClcbiAgICB0aGlzLl9mcmFtZS5pZCA9IHV1aWR2NCgpXG4gICAgdGhpcy5fZnJhbWUudGV4dHVyZV9pZCA9IG9wdGlvbnMudGV4dHVyZS5pZFxuICAgIHRoaXMuX2ZyYW1lLmNvbnRlbnQgPSBbXVxuXG4gICAgdGhpcy5fdGV4dHMgPSBbXVxuXG4gICAgdGhpcy5kcmF3Qm94KClcbiAgICB0aGlzLnRleHRpbnB1dCgpXG4gICAgdGhpcy5zdHlsZUJ1dHRvbnMoKVxuICAgIHRoaXMuYWRkVGV4dCgpXG4gICAgdGhpcy5zdWJtaXRCdG4oKVxuICAgIHRoaXMuY2FuY2VsQnRuKClcbiAgfVxuXG4gIGdldCB0YXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldFxuICB9XG5cbiAgc2V0IHRhcmdldCh0YXJnZXQpIHtcbiAgICB0aGlzLl90YXJnZXRcbiAgfVxuXG4gIGNhbmNlbEJ0bigpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgd2lkdGg6IDUwLFxuICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgIHRleHQ6IFwi5Y+W5raIXCIsXG4gICAgfVxuXG4gICAgY29uc3QgYnRuID0gbmV3IEJ1dHRvbihvcHRpb25zKVxuICAgIGJ0bi54ID0gNTAwIC0gb3B0aW9ucy53aWR0aCAtIDEzMFxuICAgIGJ0bi55ID0gMzAwIC0gb3B0aW9ucy5oZWlnaHQgLSAxMFxuXG4gICAgYnRuLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgIGJ0bi5idXR0b25Nb2RlID0gdHJ1ZVxuXG4gICAgdGhpcy5hZGRDaGlsZChidG4pXG5cbiAgICBjb25zdCBkb3duID0gKGUpID0+IHtcbiAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLl9mcmFtZSlcbiAgICB9XG5cbiAgICBidG4ub24oXCJwb2ludGVyZG93blwiLCBkb3duLmJpbmQodGhpcykpXG4gIH1cblxuICBzdWJtaXRCdG4oKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnNcbiAgICBjb25zdCB1cGRhdGVfYnRuX29wdGlvbnMgPSB7XG4gICAgICB3aWR0aDogNTAsXG4gICAgICBoZWlnaHQ6IDMwLFxuICAgICAgdGV4dDogXCLmm7TmlrBcIixcbiAgICB9XG5cbiAgICBjb25zdCBidG4gPSBuZXcgQnV0dG9uKHVwZGF0ZV9idG5fb3B0aW9ucylcbiAgICBidG4ueCA9IDUwMCAtIHVwZGF0ZV9idG5fb3B0aW9ucy53aWR0aCAtIDEwXG4gICAgYnRuLnkgPSAzMDAgLSB1cGRhdGVfYnRuX29wdGlvbnMuaGVpZ2h0IC0gMTBcblxuICAgIGJ0bi5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICBidG4uYnV0dG9uTW9kZSA9IHRydWVcblxuICAgIHRoaXMuYWRkQ2hpbGQoYnRuKVxuXG4gICAgY29uc3QgZG93biA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcInBhbmVsIHRleHQgZWRpdCwgc3VibWl0IGV2ZW50OlwiLCB0aGlzLl9mcmFtZSwgb3B0aW9ucylcbiAgICAgIG9wdGlvbnMudGV4dHVyZS5mcmFtZXMucHVzaCh0aGlzLl9mcmFtZSlcbiAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpXG4gICAgfVxuXG4gICAgYnRuLm9uKFwicG9pbnRlcmRvd25cIiwgZG93bi5iaW5kKHRoaXMpKVxuICB9XG5cbiAgc2hvd0RlbW9UZXh0KCkge1xuICAgIGlmICh0aGlzLl9kZW1vVGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2RlbW9UZXh0KVxuICAgIH1cblxuICAgIHRoaXMuX2RlbW9UZXh0ID0gbmV3IFBJWEkuVGV4dCh0aGlzLl90ZXh0aW5wdXQudGV4dCwgdGhpcy5zZWxlY3RlZFN0eWxlKVxuXG4gICAgdGhpcy5fZGVtb1RleHQueCA9IDEwXG4gICAgdGhpcy5fZGVtb1RleHQueSA9IDIwMFxuXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9kZW1vVGV4dClcbiAgfVxuXG4gIGdldCBzZWxlY3RlZFN0eWxlKCkge1xuICAgIGNvbnN0IHN0eWxlX2JlZW5fc2V0ID0gIShcbiAgICAgIHRoaXMuX29wdGlvbnMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9vcHRpb25zLnN0eWxlID09PSB1bmRlZmluZWRcbiAgICApXG4gICAgcmV0dXJuICFzdHlsZV9iZWVuX3NldCA/IHRleHRTdHlsZXNbXCJkZWZhdWx0XCJdIDogdGhpcy5fb3B0aW9ucy5zdHlsZS5zdHlsZVxuICB9XG5cbiAgYWRkVGV4dCgpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fb3B0aW9ucy50ZXh0dXJlXG4gICAgY29uc3QgYWRkX2J0bl9vcHRpb25zID0ge1xuICAgICAgd2lkdGg6IDUwLFxuICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgIHRleHQ6IFwi5re75YqgXCIsXG4gICAgfVxuXG4gICAgY29uc3QgYnRuID0gbmV3IEJ1dHRvbihhZGRfYnRuX29wdGlvbnMpXG4gICAgYnRuLnggPSA1MDAgLSBhZGRfYnRuX29wdGlvbnMud2lkdGggLSA3MFxuICAgIGJ0bi55ID0gMzAwIC0gYWRkX2J0bl9vcHRpb25zLmhlaWdodCAtIDEwXG5cbiAgICBidG4uaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgYnRuLmJ1dHRvbk1vZGUgPSB0cnVlXG5cbiAgICB0aGlzLmFkZENoaWxkKGJ0bilcblxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZnJhbWVcbiAgICBjb25zdCBkb3duID0gKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwicGFuZWwgZWRpdCBhZGQgdGV4dCwgZG93biBldmVudCBzdGFydDogXCIsIGUpXG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcInBhbmVsIGVkaXQgYWRkIHRleHQsIGRvd24gZXZlbnQgb3B0aW9ucy50ZXh0dXJlOiBcIixcbiAgICAgICAgYWRkX2J0bl9vcHRpb25zLFxuICAgICAgICBhZGRfYnRuX29wdGlvbnMudGV4dHVyZVxuICAgICAgKVxuXG4gICAgICBjb25zdCBjb250ZW50ID0ge1xuICAgICAgICB0ZXh0OiB0aGlzLl90ZXh0aW5wdXQudGV4dCxcbiAgICAgICAgdHlwZTogXCJ0eHRcIixcbiAgICAgIH1cblxuICAgICAgdGhpcy5zaG93RGVtb1RleHQoKVxuXG4gICAgICBjb25zdCBzdHlsZV9iZWVuX3NldCA9ICEoXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9vcHRpb25zLnN0eWxlID09PSB1bmRlZmluZWRcbiAgICAgIClcblxuICAgICAgaWYgKHN0eWxlX2JlZW5fc2V0KSB7XG4gICAgICAgIGNvbnRlbnRbXCJzdHlsZS10eXBlXCJdID0gdGhpcy5fb3B0aW9ucy5zdHlsZS5rZXlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnRbXCJzdHlsZVwiXSA9IHRoaXMuc2VsZWN0ZWRTdHlsZVxuICAgICAgfVxuXG4gICAgICBpZiAoZnJhbWUuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRfbGFzdCA9IGZyYW1lLmNvbnRlbnRbZnJhbWUuY29udGVudC5sZW5ndGggLSAxXVxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcInBhbmVsIGVkaXQgYWRkIHRleHQsIGRvd24gZXZlbnQgZWRpdCB0ZXh0IGNvbnRlbnQ6IFwiLFxuICAgICAgICAgIGNvbnRlbnRfbGFzdFxuICAgICAgICApXG4gICAgICAgIGNvbnRlbnQucCA9IHsgeDogY29udGVudF9sYXN0LnAueCwgeTogY29udGVudF9sYXN0LnAueSArIDMwLCBhbHBoYTogMSB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50LnAgPSB7IHg6IDAsIHk6IDAsIGFscGhhOiAxIH1cbiAgICAgIH1cblxuICAgICAgZnJhbWUuY29udGVudC5wdXNoKGNvbnRlbnQpXG4gICAgICBmcmFtZS50d2VlbnMgPSBudWxsXG4gICAgICBmcmFtZS50eXBlID0gXCJ0eHRcIlxuXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJwYW5lbCBlZGl0IGFkZCB0ZXh0LCBkb3duIGV2ZW50LCBzY2hlIHB1c2g6IFwiLFxuICAgICAgICBmcmFtZSxcbiAgICAgICAgdGhpcy5fb3B0aW9ucy50ZXh0dXJlLFxuICAgICAgICB0aGlzLl9vcHRpb25zLnNjZWVuXG4gICAgICApXG5cbiAgICAgIHRoaXMuX29wdGlvbnMuc2NoZS5wdXNoKHtcbiAgICAgICAgc2NlZW46IHRoaXMuX29wdGlvbnMuc2NlZW4sXG4gICAgICAgIGZyYW1lOiBmcmFtZSxcbiAgICAgICAgdGV4dHVyZTogdGhpcy5fb3B0aW9ucy50ZXh0dXJlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBidG4ub24oXCJwb2ludGVyZG93blwiLCBkb3duKVxuICAgIHRoaXMuX2FkZFRleHRCdXR0b24gPSBidG5cbiAgfVxuXG4gIGRyYXdCb3goKSB7XG4gICAgbGV0IGJveCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICBib3guYmVnaW5GaWxsKDB4ZmZmZmZmLCAwLjUpXG4gICAgYm94LmxpbmVTdHlsZSgxLCAweGUwZTBlMCwgMSlcbiAgICBib3guZHJhd1JvdW5kZWRSZWN0KDAsIDAsIDUwMCwgMzAwLCA2KVxuICAgIGJveC5lbmRGaWxsKClcblxuICAgIHRoaXMuYWRkQ2hpbGQoYm94KVxuICB9XG5cbiAgdGV4dGlucHV0KCkge1xuICAgIHRoaXMuX3RleHRpbnB1dCA9IG5ldyBQSVhJLlRleHRJbnB1dCh7XG4gICAgICBpbnB1dDoge1xuICAgICAgICBmb250U2l6ZTogXCIyNXB4XCIsXG4gICAgICAgIHBhZGRpbmc6IFwiNXB4XCIsXG4gICAgICAgIHdpZHRoOiBcIjQ4MHB4XCIsXG4gICAgICAgIGNvbG9yOiBcIiMyNjI3MkVcIixcbiAgICAgIH0sXG4gICAgICBib3g6IHtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGZpbGw6IDB4MDAwMDAwLFxuICAgICAgICAgIHJvdW5kZWQ6IDEwLFxuICAgICAgICAgIHN0cm9rZTogeyBjb2xvcjogMHhlMGUwZTAsIHdpZHRoOiAxIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGZvY3VzZWQ6IHtcbiAgICAgICAgICBmaWxsOiAweDAwMDAwMCxcbiAgICAgICAgICByb3VuZGVkOiA1LFxuICAgICAgICAgIHN0cm9rZTogeyBjb2xvcjogMHhlMGUwZTAsIHdpZHRoOiAxIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkOiB7IGZpbGw6IDB4ZjBmMGYwLCByb3VuZGVkOiAxIH0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICB0aGlzLl90ZXh0aW5wdXQueCA9IDEwXG4gICAgdGhpcy5fdGV4dGlucHV0LnkgPSAxMFxuXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl90ZXh0aW5wdXQpXG4gICAgY29uc3QgYmx1ciA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwia2V5IHByZXNzZWQ6XCIsIHRoaXMudGV4dCwgdGhpcylcbiAgICB9XG5cbiAgICB0aGlzLl90ZXh0aW5wdXQub24oXCJibHVyXCIsIGJsdXIuYmluZCh0aGlzKSlcbiAgfVxuXG4gIHN0eWxlQnV0dG9ucygpIHtcbiAgICBsZXQgdG9wID0gNjBcbiAgICBsZXQgbGVmdCA9IDEwXG5cbiAgICB0aGlzLl9zdHlsZUJ1dHRvbnMgPSBbXVxuICAgIGZvciAoY29uc3Qga2V5IGluIHRleHRTdHlsZXMpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHdpZHRoOiBrZXkubGVuZ3RoICogOSxcbiAgICAgICAgaGVpZ2h0OiAzMCxcbiAgICAgICAgdGV4dDoga2V5LFxuICAgICAgfVxuXG4gICAgICBjb25zdCBidG4gPSBuZXcgQnV0dG9uKG9wdGlvbnMpXG4gICAgICBidG5bXCJzdHlsZS10eXBlXCJdID0ga2V5XG5cbiAgICAgIGJ0bi54ID0gbGVmdFxuICAgICAgaWYgKGxlZnQgKyBvcHRpb25zLndpZHRoICsgNSA+IDUwMCkge1xuICAgICAgICBsZWZ0ID0gMTBcbiAgICAgICAgdG9wID0gdG9wICsgMzVcbiAgICAgICAgYnRuLnggPSBsZWZ0XG4gICAgICAgIGxlZnQgPSBsZWZ0ICsgb3B0aW9ucy53aWR0aCArIDVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlZnQgPSBsZWZ0ICsgb3B0aW9ucy53aWR0aCArIDVcbiAgICAgIH1cblxuICAgICAgYnRuLnkgPSB0b3BcblxuICAgICAgYnRuLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgYnRuLmJ1dHRvbk1vZGUgPSB0cnVlXG5cbiAgICAgIHRoaXMuYWRkQ2hpbGQoYnRuKVxuXG4gICAgICBjb25zdCBkb3duID0gKGUpID0+IHtcbiAgICAgICAgdGhpcy5fc3R5bGVCdXR0b25zLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICBlLnVwKClcbiAgICAgICAgfSlcblxuICAgICAgICBidG4uc2VsZWN0ZWQoKVxuXG4gICAgICAgIHRoaXMuX29wdGlvbnMuc3R5bGUgPSB7XG4gICAgICAgICAga2V5OiBidG5bXCJzdHlsZS10eXBlXCJdLFxuICAgICAgICAgIHN0eWxlOiB0ZXh0U3R5bGVzW2J0bltcInN0eWxlLXR5cGVcIl1dLFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgYGVkaXQgdGV4dCwgc2V0dGluZyB0ZXh0IHN0eWxlLiBrZXk6ICR7a2V5fSwgc3R5bGU6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLnN0eWxlXG4gICAgICAgICAgKX1gXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLnNob3dEZW1vVGV4dCgpXG4gICAgICB9XG5cbiAgICAgIGJ0bi5vbihcInBvaW50ZXJkb3duXCIsIGRvd24uYmluZCh0aGlzKSlcblxuICAgICAgdGhpcy5fc3R5bGVCdXR0b25zLnB1c2goYnRuKVxuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWUgZXh0ZW5kcyBQSVhJLkNvbnRhaW5lciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuc29ydGFibGVDaGlsZHJlbiA9IHRydWVcblxuICAgIHRoaXMudGV4dCgpXG4gICAgdGhpcy5vdmVyKClcbiAgICB0aGlzLmRlbCgpXG4gIH1cblxuICBkZWwoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnNcbiAgICBjb25zdCBhZGRJY29uID0gUElYSS5TcHJpdGUuZnJvbShcImFzc2V0cy9pY29uL2RlbGV0ZS5wbmdcIilcbiAgICBhZGRJY29uLnggPSBvcHRpb25zLndpZHRoIC0gMjBcbiAgICBhZGRJY29uLnkgPSAtMC41XG4gICAgYWRkSWNvbi5zY2FsZS5zZXQoMC42KVxuICAgIGFkZEljb24uaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgYWRkSWNvbi5idXR0b25Nb2RlID0gdHJ1ZVxuICAgIGFkZEljb24uekluZGV4ID0gNVxuXG4gICAgdGhpcy5hZGRDaGlsZChhZGRJY29uKVxuXG4gICAgY29uc3QgZG93biA9IChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coZSlcblxuICAgICAgb3B0aW9ucy50ZXh0dXJlLmZyYW1lcyA9IG9wdGlvbnMudGV4dHVyZS5mcmFtZXMuZmlsdGVyKFxuICAgICAgICAodikgPT4gdi5pZCAhPT0gb3B0aW9ucy5pZFxuICAgICAgKVxuXG4gICAgICBjb25zb2xlLmxvZyhcInBhbmVsIGZyYW1lIGNvbnRyb2wsIGZyYW1lczogXCIsIG9wdGlvbnMudGV4dHVyZS5mcmFtZXMpXG4gICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKVxuICAgICAgb3B0aW9ucy5zY2Vlbi5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgIGlmIChjLm5hbWUgPT09IG9wdGlvbnMuaWQpIHtcbiAgICAgICAgICBvcHRpb25zLnNjZWVuLnJlbW92ZUNoaWxkKGMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgYWRkSWNvbi5vbihcIm1vdXNlZG93blwiLCBkb3duLmJpbmQodGhpcykpXG4gIH1cblxuICBvdmVyKGUpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwicGFuZWwgZnJhbWVzLCBmcmFtZSBjb250cm9sLCBldmVudCBvdmVyLCB0ZXh0OiBcIixcbiAgICAgIHRoaXMuX29wdGlvbnMudGV4dFxuICAgIClcblxuICAgIGlmICh0aGlzLl9ib3ggIT09IHVuZGVmaW5lZCB8fCB0aGlzLl9ib3ggIT09IG51bGwpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fYm94KVxuICAgIH1cblxuICAgIHRoaXMuX2JveCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICB0aGlzLl9ib3guYmVnaW5GaWxsKDB4ZmZmZmZmKVxuICAgIHRoaXMuX2JveC5saW5lU3R5bGUoMSwgMHhhZmFmYjAsIDEpXG4gICAgdGhpcy5fYm94LmRyYXdSb3VuZGVkUmVjdChcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgdGhpcy5fb3B0aW9ucy53aWR0aCxcbiAgICAgIHRoaXMuX29wdGlvbnMuaGVpZ2h0LFxuICAgICAgNlxuICAgIClcbiAgICB0aGlzLl9ib3guZW5kRmlsbCgpXG4gICAgdGhpcy5fYm94LnpJbmRleCA9IDBcblxuICAgIHRoaXMuX3RleHQuc3R5bGUgPSB7XG4gICAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tUmVndWxhclwiLFxuICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgZmlsbDogMHhhZmFmYjAsXG4gICAgfVxuXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9ib3gpXG4gIH1cblxuICBtb3ZlKGUpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwicGFuZWwgZnJhbWVzLCBmcmFtZSBjb250cm9sLCBldmVudCBtb3ZlLCB0ZXh0OiBcIixcbiAgICAgIHRoaXMuX29wdGlvbnMudGV4dFxuICAgIClcblxuICAgIGlmICh0aGlzLl9ib3ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9ib3gpXG4gICAgfVxuXG4gICAgdGhpcy5fYm94ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgIHRoaXMuX2JveC5iZWdpbkZpbGwoMHhmZmZmZmYpXG4gICAgdGhpcy5fYm94LmxpbmVTdHlsZSgxLCAweDRkNWFhZiwgMSlcbiAgICB0aGlzLl9ib3guZHJhd1JvdW5kZWRSZWN0KFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB0aGlzLl9vcHRpb25zLndpZHRoLFxuICAgICAgdGhpcy5fb3B0aW9ucy5oZWlnaHQsXG4gICAgICA2XG4gICAgKVxuICAgIHRoaXMuX2JveC5lbmRGaWxsKClcbiAgICB0aGlzLl9ib3guekluZGV4ID0gMFxuXG4gICAgdGhpcy5fdGV4dC5zdHlsZSA9IHtcbiAgICAgIGZvbnRGYW1pbHk6IFwiQmx1ZSBTa3kgTm90by1SZWd1bGFyXCIsXG4gICAgICBmb250U2l6ZTogMTQsXG4gICAgICBmaWxsOiAweDg0OTFjMyxcbiAgICB9XG5cbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2JveClcbiAgfVxuXG4gIHRleHQoKSB7XG4gICAgdGhpcy5fdGV4dCA9IG5ldyBQSVhJLlRleHQodGhpcy5fb3B0aW9ucy50ZXh0LCB7XG4gICAgICBmb250RmFtaWx5OiBcIkJsdWUgU2t5IE5vdG8tUmVndWxhclwiLFxuICAgICAgZm9udFNpemU6IDE0LFxuICAgIH0pXG5cbiAgICB0aGlzLl90ZXh0LnggPSA0XG4gICAgdGhpcy5fdGV4dC55ID0gMFxuXG4gICAgdGhpcy5fdGV4dC56SW5kZXggPSAxMTAwXG5cbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX3RleHQpXG4gIH1cbn1cbiIsImltcG9ydCBGcmFtZSBmcm9tIFwiLi9jb250cm9sL2ZyYW1lXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lc1BhbmVsIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnNcblxuICAgIHRoaXMuZHJhd0JveCgpXG4gICAgdGhpcy5hZGRGcmFtZSgpXG4gIH1cblxuICBkcmF3Qm94KCkge1xuICAgIGxldCBib3ggPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgYm94LmJlZ2luRmlsbCgweGZmZmZmZiwgMC41KVxuICAgIGJveC5saW5lU3R5bGUoMSwgMHhlMGUwZTAsIDEpXG4gICAgYm94LmRyYXdSb3VuZGVkUmVjdCgwLCAwLCA0MDAsIDQ1MCwgNClcbiAgICBib3guZW5kRmlsbCgpXG5cbiAgICB0aGlzLnggPSA5NjAgLSA0MDAgLSAyMFxuICAgIHRoaXMueSA9IDYwXG5cbiAgICB0aGlzLmFkZENoaWxkKGJveClcbiAgfVxuXG4gIGFkZEZyYW1lKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zXG4gICAgY29uc3QgcCA9IHtcbiAgICAgIHg6IDEwLFxuICAgICAgeTogNSxcbiAgICB9XG5cbiAgICBjb25zdCBidG5zID0gW11cbiAgICBsZXQgZnJhbWVzID0gb3B0aW9ucy50ZXh0dXJlLmZyYW1lc1xuICAgIGNvbnNvbGUubG9nKFwicGFuZWwgZnJhbWVzOiBcIiwgZnJhbWVzKVxuXG4gICAgY29uc3QgaXNfcGMgPSAhUElYSS51dGlscy5pc01vYmlsZS5hbnlcbiAgICBmcmFtZXMuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgY29uc3QgYnRuID0gbmV3IEZyYW1lKHtcbiAgICAgICAgaWQ6IGYuaWQsXG4gICAgICAgIHRleHQ6IGAke2YuaWR9IHg6ICR7Zi5mcmFtZS54fSwgeTogJHtmLmZyYW1lLnl9YCxcbiAgICAgICAgd2lkdGg6IDM4MCxcbiAgICAgICAgaGVpZ2h0OiAxOCxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIH0sXG4gICAgICAgIHRleHR1cmU6IG9wdGlvbnMudGV4dHVyZSxcbiAgICAgICAgc2NlZW46IG9wdGlvbnMuc2NlZW4sXG4gICAgICB9KVxuXG4gICAgICBidG4ueCA9IHAueFxuICAgICAgYnRuLnkgPSBwLnlcblxuICAgICAgYnRuLmludGVyYWN0aXZlID0gdHJ1ZVxuXG4gICAgICBjb25zb2xlLmxvZyhcImlzIG1vYmlsZTogXCIsIFBJWEkudXRpbHMuaXNNb2JpbGUuYW55KVxuICAgICAgaWYgKGlzX3BjKSB7XG4gICAgICAgIGJ0bi5vbihcIm1vdXNlb3ZlclwiLCAoZSkgPT4ge1xuICAgICAgICAgIGlmIChlLnRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuXG4gICAgICAgICAgYnRucy5mb3JFYWNoKChiKSA9PiB7XG4gICAgICAgICAgICBpZiAoYi5vdmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgYi5vdmVyKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgaWYgKGUudGFyZ2V0Lm1vdmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZS50YXJnZXQubW92ZSgpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBidG5zLnB1c2goYnRuKVxuICAgICAgdGhpcy5hZGRDaGlsZChidG4pXG5cbiAgICAgIHAueSA9IHAueSArIDIwXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IFNwcml0ZSBmcm9tIFwiLi4vc3ByaXRlXCJcbmltcG9ydCBEcmFnZ2luZyBmcm9tIFwiLi4vZHJhZ2dpbmdcIlxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIlxuaW1wb3J0IEVkaXRUZXh0UGFuZWwgZnJvbSBcIi4uL3BhbmVsL2VkaXQudGV4dFwiXG5pbXBvcnQgRnJhbWVNb2RlbCBmcm9tIFwiLi4vY29uZmlnL2ZyYW1lXCJcbmltcG9ydCBUZXh0dXJlQXBpIGZyb20gXCIuLi9hcGkvdGV4dHVyZVwiXG5pbXBvcnQgRnJhbWVBcGkgZnJvbSBcIi4uL2FwaS90ZXh0dXJlLmZyYW1lXCJcbmltcG9ydCBGcmFtZXNQYW5lbCBmcm9tIFwiLi4vcGFuZWwvZnJhbWVzXCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xiYXJDb250YWluZXIgZXh0ZW5kcyBQSVhJLkNvbnRhaW5lciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcihvcHRpb25zKVxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zXG5cbiAgICB0aGlzLnR4dEljb24oKVxuICAgIHRoaXMuaW1hZ2VJY29uKClcbiAgICB0aGlzLmJhY2tJY29uKClcbiAgICB0aGlzLmRlbEljb24oKVxuICAgIHRoaXMuaWRJY29uKClcbiAgICB0aGlzLnJlZnJlc2hJY29uKClcbiAgICB0aGlzLmZyYW1lc0ljb24oKVxuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBgdG9vbGJhciB3OiAke3RoaXMud2lkdGh9LCB5OiAke3RoaXMuaGVpZ2h0fSwgeDogJHt0aGlzLnh9LCB5OiAke3RoaXMueX1gXG4gICAgKVxuICB9XG5cbiAgZnJhbWVzSWNvbigpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fb3B0aW9uc1xuICAgIGNvbnN0IGFkZEljb24gPSBQSVhJLlNwcml0ZS5mcm9tKFwiYXNzZXRzL2ljb24vZnJhbWVzLnBuZ1wiKVxuICAgIGFkZEljb24ueCA9IDcyNVxuICAgIGFkZEljb24ueSA9IDEwXG4gICAgYWRkSWNvbi5zY2FsZS5zZXQoMC44KVxuICAgIGFkZEljb24uaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgYWRkSWNvbi5idXR0b25Nb2RlID0gdHJ1ZVxuXG4gICAgdGhpcy5hZGRDaGlsZChhZGRJY29uKVxuXG4gICAgY29uc3QgZG93biA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9mcmFtZXNQYW5lbCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2ZyYW1lc1BhbmVsID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZnJhbWVzUGFuZWwgPSBuZXcgRnJhbWVzUGFuZWwoe1xuICAgICAgICAgIHNjZWVuOiBvcHRpb25zLnNjZWVuLFxuICAgICAgICAgIHRleHR1cmU6IG9wdGlvbnMudGV4dHVyZSxcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9mcmFtZXNQYW5lbClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fZnJhbWVzUGFuZWwpXG5cbiAgICAgIHRoaXMuX2ZyYW1lc1BhbmVsID0gbnVsbFxuICAgIH1cblxuICAgIGFkZEljb24ub24oXCJwb2ludGVydGFwXCIsIGRvd24uYmluZCh0aGlzKSlcbiAgfVxuXG4gIHJlZnJlc2hJY29uKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zXG4gICAgY29uc3QgYWRkSWNvbiA9IFBJWEkuU3ByaXRlLmZyb20oXCJhc3NldHMvaWNvbi9yZWZyZXNoLnBuZ1wiKVxuICAgIGFkZEljb24ueCA9IDc1MFxuICAgIGFkZEljb24ueSA9IDdcbiAgICBhZGRJY29uLnNjYWxlLnNldCgxKVxuICAgIGFkZEljb24uaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgYWRkSWNvbi5idXR0b25Nb2RlID0gdHJ1ZVxuXG4gICAgdGhpcy5hZGRDaGlsZChhZGRJY29uKVxuXG4gICAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgICAgbmV3IFRleHR1cmVBcGkoKS51cGRhdGUob3B0aW9ucy50ZXh0dXJlLmxhbmcsIG9wdGlvbnMudGV4dHVyZSwgKCkgPT4ge1xuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBhZGRJY29uLm9uKFwicG9pbnRlcnRhcFwiLCB1cGRhdGUuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGlkSWNvbigpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fb3B0aW9uc1xuICAgIGNvbnN0IGFkZEljb24gPSBQSVhJLlNwcml0ZS5mcm9tKFwiYXNzZXRzL2ljb24vaWQucG5nXCIpXG4gICAgYWRkSWNvbi54ID0gNzgxXG4gICAgYWRkSWNvbi55ID0gOVxuICAgIGFkZEljb24uc2NhbGUuc2V0KDAuOSlcbiAgICBhZGRJY29uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgIGFkZEljb24uYnV0dG9uTW9kZSA9IHRydWVcblxuICAgIHRoaXMuYWRkQ2hpbGQoYWRkSWNvbilcblxuICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIG5ldyBUZXh0dXJlQXBpKCkudXBkYXRlKHRoaXMuX29wdGlvbnMudGV4dHVyZS5sYW5nLCB0aGlzLl9vcHRpb25zLnRleHR1cmUpXG4gICAgfVxuXG4gICAgYWRkSWNvbi5vbihcInBvaW50ZXJ0YXBcIiwgdXBkYXRlLmJpbmQodGhpcykpXG4gIH1cblxuICB0eHRJY29uKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zXG4gICAgY29uc3QgYWRkSWNvbiA9IFBJWEkuU3ByaXRlLmZyb20oXCJhc3NldHMvaWNvbi90eHQucG5nXCIpXG4gICAgYWRkSWNvbi54ID0gODEyXG4gICAgYWRkSWNvbi55ID0gNlxuICAgIGFkZEljb24uc2NhbGUuc2V0KDEuMilcbiAgICBhZGRJY29uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgIGFkZEljb24uYnV0dG9uTW9kZSA9IHRydWVcblxuICAgIHRoaXMuYWRkQ2hpbGQoYWRkSWNvbilcblxuICAgIGFkZEljb24ub24oXCJwb2ludGVydGFwXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHBhbmVsID0gbmV3IEVkaXRUZXh0UGFuZWwoe1xuICAgICAgICBzY2hlOiB0aGlzLl9vcHRpb25zLnNjaGUsXG4gICAgICAgIHNjZWVuOiBvcHRpb25zLnNjZWVuLFxuICAgICAgICB0ZXh0dXJlOiBvcHRpb25zLnRleHR1cmUsXG4gICAgICB9KVxuXG4gICAgICBwYW5lbC54ID0gKDk2MCAtIDUwMCkgLyAyXG4gICAgICBwYW5lbC55ID0gKDU0MCAtIDMwMCkgLyAyXG4gICAgICB0aGlzLmFkZENoaWxkKHBhbmVsKVxuICAgIH0pXG4gIH1cblxuICBpbWFnZUljb24oKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnNcbiAgICBjb25zdCBhZGRJY29uID0gUElYSS5TcHJpdGUuZnJvbShcImFzc2V0cy9pY29uL3BpY3R1cmUucG5nXCIpXG4gICAgYWRkSWNvbi54ID0gODUwXG4gICAgYWRkSWNvbi55ID0gOFxuXG4gICAgYWRkSWNvbi5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICBhZGRJY29uLmJ1dHRvbk1vZGUgPSB0cnVlXG4gICAgYWRkSWNvbi5vbihcInBvaW50ZXJ0YXBcIiwgKCkgPT4ge1xuICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICBpbnB1dC50eXBlID0gXCJmaWxlXCJcbiAgICAgIGlucHV0LmFjY2VwdCA9IFwiLnBuZywuanBnLGdpZlwiXG4gICAgICBpbnB1dC5tdWx0aXBsZSA9IGZhbHNlXG4gICAgICBpbnB1dC5vbmNoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidG9vbGJhciBhZGQgaW1hZ2UgZmlsZTogXCIsIGlucHV0LmZpbGVzWzBdLCBlLnRhcmdldClcbiAgICAgICAgaWYgKGlucHV0LmZpbGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYHRvb2xiYXIgYWRkIGltYWdlIGZpbGUgbGVuZ3RoOiAke2lucHV0LmZpbGVzLmxlbmd0aH1gKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9wdGlvbnMudGV4dHVyZS5mcmFtZXMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICFBcnJheS5pc0FycmF5KG9wdGlvbnMudGV4dHVyZS5mcmFtZXMpXG4gICAgICAgICkge1xuICAgICAgICAgIG9wdGlvbnMudGV4dHVyZS5mcmFtZXMgPSBbXVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJhbWUgPSBGcmFtZU1vZGVsKClcbiAgICAgICAgZnJhbWUuaWQgPSB1dWlkdjQoKVxuICAgICAgICBmcmFtZS50ZXh0dXJlX2lkID0gb3B0aW9ucy50ZXh0dXJlLmlkXG4gICAgICAgIGZyYW1lLmNvbnRlbnQgPSBbXVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIFwidG9vbGJhciBhZGQgaW1hZ2Ugb3B0aW9ucywgdGV4dHVyZTogXCIsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBvcHRpb25zLnRleHR1cmVcbiAgICAgICAgKVxuXG4gICAgICAgIGNvbnN0IGYgPSBpbnB1dC5maWxlc1swXVxuICAgICAgICBjb25zdCBjb250ZW50ID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICB0eXBlOiBcImltZ1wiLFxuICAgICAgICB9XG5cbiAgICAgICAgY29udGVudC51cmwgPSBgJHtjb250ZW50LmlkfS5wbmdgXG5cbiAgICAgICAgZnJhbWUuY29udGVudC5wdXNoKGNvbnRlbnQpXG5cbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKGZyYW1lLmZyYW1lID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZnJhbWUuZnJhbWUgPSB7fVxuICAgICAgICAgICAgZnJhbWUuc291cmNlU2l6ZSA9IHt9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnJhbWUuZnJhbWUueCA9IDMwXG4gICAgICAgICAgZnJhbWUuZnJhbWUueSA9IDMwXG4gICAgICAgICAgZnJhbWUudHlwZSA9IFwiaW1nXCJcblxuICAgICAgICAgIG9wdGlvbnMudGV4dHVyZS5mcmFtZXMucHVzaChmcmFtZSlcblxuICAgICAgICAgIGNvbnNvbGUubG9nKFwidG9vbGJhciBhZGQgc3ByaXRlLCBqc29uOiBcIiwgZnJhbWUsIGZyYW1lLmNvbnRlbnQpXG4gICAgICAgICAgY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh7XG4gICAgICAgICAgICBmcmFtZTogZnJhbWUsXG4gICAgICAgICAgICB0ZXh0dXJlOiBvcHRpb25zLnRleHR1cmUsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgXCJ0b29sYmFyIGFkZCBzcHJpdGUsIGZyYW1lIGFwaSB1cGRhdGU6IFwiLFxuICAgICAgICAgICAgb3B0aW9ucy50ZXh0dXJlLmxhbmcsXG4gICAgICAgICAgICBmcmFtZVxuICAgICAgICAgIClcblxuICAgICAgICAgIGNvbnNvbGUubG9nKFwidG9vbGJhciBhZGQgc3ByaXRlOiBcIiwgc3ByaXRlLCBvcHRpb25zLnNjZWVuKVxuICAgICAgICAgIG9wdGlvbnMuc2NlZW4uYWRkQ2hpbGQoc3ByaXRlKVxuXG4gICAgICAgICAgbmV3IERyYWdnaW5nKHtcbiAgICAgICAgICAgIHNjZWVuOiBvcHRpb25zLnNjZWVuLFxuICAgICAgICAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAgICAgICAgICBmcmFtZTogZnJhbWUsXG4gICAgICAgICAgICB0ZXh0dXJlOiBvcHRpb25zLnRleHR1cmUsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICAgICAgZGF0YS5hcHBlbmQoXCJpbWFnZVwiLCBmKVxuICAgICAgICBheGlvc1xuICAgICAgICAgIC5wb3N0KFxuICAgICAgICAgICAgYCR7QVBJX1VSTH0vdGV4dHVyZS8ke29wdGlvbnMudGV4dHVyZS5sYW5nfS8ke2ZyYW1lLnRleHR1cmVfaWR9LyR7ZnJhbWUuaWR9LyR7Y29udGVudC5pZH1gLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcIm11bHRpcGFydC9mb3JtLWRhdGFcIiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbihjYWxsYmFjay5iaW5kKHRoaXMpKVxuICAgICAgfVxuXG4gICAgICBpbnB1dC5jbGljaygpXG4gICAgfSlcblxuICAgIHRoaXMuYWRkQ2hpbGQoYWRkSWNvbilcbiAgfVxuXG4gIGJhY2tJY29uKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zXG4gICAgY29uc3QgYWRkSWNvbiA9IFBJWEkuU3ByaXRlLmZyb20oXCJhc3NldHMvaWNvbi9iYWNrLnBuZ1wiKVxuICAgIGFkZEljb24ueCA9IDg5MFxuICAgIGFkZEljb24ueSA9IDEwXG4gICAgYWRkSWNvbi5zY2FsZS5zZXQoMC44OClcbiAgICBhZGRJY29uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgIGFkZEljb24uYnV0dG9uTW9kZSA9IHRydWVcblxuICAgIHRoaXMuYWRkQ2hpbGQoYWRkSWNvbilcblxuICAgIGFkZEljb24ub24oXCJwb2ludGVydGFwXCIsICgpID0+IHtcbiAgICAgIG5ldyBUZXh0dXJlQXBpKCkuZGVsKG9wdGlvbnMudGV4dHVyZS5sYW5nLCBvcHRpb25zLnRleHR1cmUuaWQpXG4gICAgfSlcbiAgfVxuXG4gIGRlbEljb24oKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnNcbiAgICBjb25zdCBhZGRJY29uID0gUElYSS5TcHJpdGUuZnJvbShcImFzc2V0cy9pY29uL2RlbC5wbmdcIilcbiAgICBhZGRJY29uLnggPSA5MjJcbiAgICBhZGRJY29uLnkgPSA4XG4gICAgYWRkSWNvbi5zY2FsZS5zZXQoMSlcbiAgICBhZGRJY29uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgIGFkZEljb24uYnV0dG9uTW9kZSA9IHRydWVcblxuICAgIHRoaXMuYWRkQ2hpbGQoYWRkSWNvbilcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbiBcbi8qIVxuICogcGl4aS13ZWJmb250LWxvYWRlciAtIHYxLjAuMlxuICogQ29tcGlsZWQgRnJpLCAxMyBBdWcgMjAyMSAxOTozNjoxMSBVVENcbiAqXG4gKiBwaXhpLXdlYmZvbnQtbG9hZGVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqIFxuICogQ29weXJpZ2h0IDIwMTktMjAyMSwgTWlsdG9uIENhbmRlbGVybyA8bWlsdG9uY2FuZGVsZXJvQGdtYWlsLmNvbT4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqL1xuXG52YXIgTG9hZGVyUmVzb3VyY2UgPSBQSVhJLkxvYWRlclJlc291cmNlXG5mdW5jdGlvbiBwYXJzZVJ1bGUoY3NzKVxue1xuICAgIGNvbnN0IHRva2VuaXplciA9IC9cXHMqKFthLXpcXC1dKylcXHMqOlxccyooKD86W147XSp1cmxcXCguKj9cXClbXjtdKnxbXjtdKikqKVxccyooPzo7fCQpL2dpO1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGxldCB0b2tlbjtcblxuICAgIHdoaWxlICgodG9rZW4gPSB0b2tlbml6ZXIuZXhlYyhjc3MpKSlcbiAgICB7XG4gICAgICAgIG9ialt0b2tlblsxXS50b0xvd2VyQ2FzZSgpXSA9IHRva2VuWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeVJ1bGUoc3R5bGUpXG57XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc3R5bGUpLnNvcnQoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHRleHQgKz0gYCAke2tleXNbaV19OiAke3N0eWxlW2tleXNbaV1dIH07YDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlx0UGFyc2UgYSBDU1MgU3R5bGVTaGVldCBpbnRvIGFuIEFycmF5IG9mIGhvbWVicmV3IENTU1N0eWxlUnVsZSBvYmplY3RzLFxuKlx0ZWFjaCBoYXZpbmcgbm9ybWFsaXplZCBgc2VsZWN0b3JUZXh0YCBhbmQgYHN0eWxlYCBwcm9wZXJ0aWVzLlxuKlx0SGFyZGNvcmUgcmVnZXggc3RvbGVuIGZyb206IGh0dHBzOi8vanNmaWRkbGUubmV0L2RldmVsb3BpdC92emtja3J3NC9cbiovXG5mdW5jdGlvbiBwYXJzZUNzcyh0ZXh0KVxue1xuICAgIGNvbnN0IHRva2VuaXplciA9IC8oW1xcc1xcU10rPylcXHsoW1xcc1xcU10qPylcXH0vZ2k7XG4gICAgY29uc3QgcnVsZXMgPSBbXTtcbiAgICBsZXQgcnVsZTtcbiAgICBsZXQgdG9rZW47XG5cbiAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXC9cXCpbXFxzXFxTXSo/XFwqXFwvL2csICcnKTtcbiAgICB3aGlsZSAoKHRva2VuID0gdG9rZW5pemVyLmV4ZWModGV4dCkpKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBwYXJzZVJ1bGUodG9rZW5bMl0udHJpbSgpKTtcblxuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gc3RyaW5naWZ5UnVsZShzdHlsZSk7XG4gICAgICAgIHJ1bGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RvclRleHQ6IHRva2VuWzFdLnRyaW0oKS5yZXBsYWNlKC9cXHMqXFwsXFxzKi8sICcsICcpLFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICBjc3NUZXh0OiAnJyxcbiAgICAgICAgfTtcbiAgICAgICAgcnVsZS5jc3NUZXh0ID0gYCR7cnVsZS5zZWxlY3RvclRleHR9IHsgJHtydWxlLnN0eWxlLmNzc1RleHQgfSB9YDtcbiAgICAgICAgcnVsZXMucHVzaChydWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcnVsZXM7XG59XG5cbmZ1bmN0aW9uIF9udWxsaXNoQ29hbGVzY2UobGhzLCByaHNGbikgeyBpZiAobGhzICE9IG51bGwpIHsgcmV0dXJuIGxoczsgfSBlbHNlIHsgcmV0dXJuIHJoc0ZuKCk7IH0gfSBmdW5jdGlvbiBfb3B0aW9uYWxDaGFpbihvcHMpIHsgbGV0IGxhc3RBY2Nlc3NMSFMgPSB1bmRlZmluZWQ7IGxldCB2YWx1ZSA9IG9wc1swXTsgbGV0IGkgPSAxOyB3aGlsZSAoaSA8IG9wcy5sZW5ndGgpIHsgY29uc3Qgb3AgPSBvcHNbaV07IGNvbnN0IGZuID0gb3BzW2kgKyAxXTsgaSArPSAyOyBpZiAoKG9wID09PSAnb3B0aW9uYWxBY2Nlc3MnIHx8IG9wID09PSAnb3B0aW9uYWxDYWxsJykgJiYgdmFsdWUgPT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGlmIChvcCA9PT0gJ2FjY2VzcycgfHwgb3AgPT09ICdvcHRpb25hbEFjY2VzcycpIHsgbGFzdEFjY2Vzc0xIUyA9IHZhbHVlOyB2YWx1ZSA9IGZuKHZhbHVlKTsgfSBlbHNlIGlmIChvcCA9PT0gJ2NhbGwnIHx8IG9wID09PSAnb3B0aW9uYWxDYWxsJykgeyB2YWx1ZSA9IGZuKCguLi5hcmdzKSA9PiB2YWx1ZS5jYWxsKGxhc3RBY2Nlc3NMSFMsIC4uLmFyZ3MpKTsgbGFzdEFjY2Vzc0xIUyA9IHVuZGVmaW5lZDsgfSB9IHJldHVybiB2YWx1ZTsgfVxuY2xhc3MgV2ViZm9udExvYWRlclBsdWdpbiBcbntcbiAgICAvKipcbiAgICAgKiBVbnN1cG9ydGVkIGZvcm1hdHM6XG4gICAgICogRU9UID0+IEludGVybmV0IGV4cGxvcmVyIG9ubHkuIERlcHJlY2F0ZWQuIFdlIHVzZSBwcm9taXNlcywgd2UgZG9uJ3Qgc3VwcG9ydCBJRSBhbnl3YXkuXG4gICAgICogU1ZHID0+IFNhZmFyaSBvbmx5LiBEZXByZWNhdGVkLiBTcGVjIHJlbW92ZWQgZnJvbSBTVkcgMi4wLiBTdXBwb3J0IGJlaW5nIHJlbW92ZWQgZnJvbSBicm93c2Vycy5cbiAgICAgKi9cbiAgICAgc3RhdGljICBfX2luaXRTdGF0aWMoKSB7dGhpcy5zdXBwb3J0ZWRGb250RXh0ZW5zaW9ucyA9IFsndHRmJywgJ290ZicsICd3b2ZmJywgJ3dvZmYyJ107fVxuXG4gICAgc3RhdGljIGFkZCguLi5fcGFyYW1zKVxuICAgIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5mb250cyB8fCAhRm9udEZhY2UgfHwgIVByb21pc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAnV2ViZm9udExvYWRlclBsdWdpbiByZWxpZXMgaGVhdmlseSBvbiBQcm9taXNlcyBhbmQgdGhlIEZvbnRGYWNlIEFQSSBhbmQgeW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IHRoZW0uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlKCdjc3MnLCBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuWEhSKTtcbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnY3NzJywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG5cbiAgICAgICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUoJ3R0ZicsIExvYWRlclJlc291cmNlLkxPQURfVFlQRS5YSFIpO1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCd0dGYnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpO1xuXG4gICAgICAgIGZvciAoY29uc3QgZXh0IG9mIFdlYmZvbnRMb2FkZXJQbHVnaW4uc3VwcG9ydGVkRm9udEV4dGVuc2lvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlKGV4dCwgTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlhIUik7XG4gICAgICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKGV4dCwgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB1c2UocmVzb3VyY2UsIG5leHQpXG4gICAge1xuICAgICAgICBpZiAocmVzb3VyY2UuZXh0ZW5zaW9uLmVuZHNXaXRoKCdjc3MnKSB8fCByZXNvdXJjZS5leHRlbnNpb24uZW5kc1dpdGgoJ2NzczInKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhpcyBwcm9taXNlIF9zaG91bGRudF8gcmVqZWN0IGJ1dCBqdXN0IHRvIGJlIHN1cmUsIGZpbmFsbHk7XG4gICAgICAgICAgICBXZWJmb250TG9hZGVyUGx1Z2luLmxvYWRGcm9tQ1NTKHJlc291cmNlKS5maW5hbGx5KCgpID0+IG5leHQoKSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChXZWJmb250TG9hZGVyUGx1Z2luLnN1cHBvcnRlZEZvbnRFeHRlbnNpb25zLnNvbWUoKGV4dCkgPT4gcmVzb3VyY2UuZXh0ZW5zaW9uLmVuZHNXaXRoKGV4dCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIHByb21pc2UgX3Nob3VsZG50XyByZWplY3QgYnV0IGp1c3QgdG8gYmUgc3VyZSwgZmluYWxseTtcbiAgICAgICAgICAgIFdlYmZvbnRMb2FkZXJQbHVnaW4ubG9hZEZyb21CdWZmZXIocmVzb3VyY2UpLmZpbmFsbHkoKCkgPT4gbmV4dCgpKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbGJhY2ssIGl0IHdhc24ndCBmb3IgdXNcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJ3cml0ZWFibGUgZnVuY3Rpb24gaW4gY2FzZSB5b3Ugd2FudCB0byBpbXBsZW1lbnQgeW91ciBvd24gd2FpdGVyXG4gICAgICogKGUuZzogRm9udEZhY2VPYnNlcnZlcilcbiAgICAgKi9cbiAgICAgc3RhdGljIF9faW5pdFN0YXRpYzIoKSB7dGhpcy53YWl0Rm9udCA9IGFzeW5jIChcbiAgICAgICAgZm9udERlc2NyaXB0b3IsXG4gICAgICAgIHRlc3RTdHJpbmcsXG4gICAgICAgIHRpbWVvdXQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBmb250U3R5bGUgPSBfbnVsbGlzaENvYWxlc2NlKGZvbnREZXNjcmlwdG9yWydmb250LXN0eWxlJ10sICgpID0+ICggJycpKTtcbiAgICAgICAgY29uc3QgZm9udFdlaWdodCA9IF9udWxsaXNoQ29hbGVzY2UoZm9udERlc2NyaXB0b3JbJ2ZvbnQtd2VpZ2h0J10sICgpID0+ICggJycpKTtcbiAgICAgICAgY29uc3QgZm9udFN0cmV0Y2ggPSBfbnVsbGlzaENvYWxlc2NlKGZvbnREZXNjcmlwdG9yWydmb250LXN0cmV0Y2gnXSwgKCkgPT4gKCAnJykpO1xuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gZm9udERlc2NyaXB0b3JbJ2ZvbnQtZmFtaWx5J107XG5cbiAgICAgICAgdGltZW91dCA9IHRpbWVvdXQgfHwgSW5maW5pdHk7IC8vIHRpbWVvdXQ9MCAtPiB3YWl0IGZvcmV2ZXJcbiAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBiYWNrVGhlbiA9IG5vdztcbiAgICAgICAgY29uc3QgbWVyZ2VkRm9udFN0eWxlID0gW2ZvbnRTdHlsZSwgZm9udFdlaWdodCwgZm9udFN0cmV0Y2gsICcxMDBweCcsIGZvbnRGYW1pbHldLmpvaW4oJyAnKTtcbiAgICAgICAgbGV0IGxvYWRlZEZvbnRzID0gMDtcblxuICAgICAgICBkb1xuICAgICAgICB7XG4gICAgICAgICAgICBsb2FkZWRGb250cyA9IChhd2FpdCBkb2N1bWVudC5mb250cy5sb2FkKG1lcmdlZEZvbnRTdHlsZSwgdGVzdFN0cmluZykpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChsb2FkZWRGb250cyA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gRm9udCBsb2FkZWQhXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzbGVlcCBmb3IgYSB3aGlsZSBvciB0aGUgYnJvd3NlciBjYW4ndCBsb2FkIHRoZSBmb250cyFcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE2KSk7XG5cbiAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9IHdoaWxlIChub3cgLSBiYWNrVGhlbiA8IHRpbWVvdXQpO1xuXG4gICAgICAgIC8vIFdlIHRpbWVkIG91dCEgOihcbiAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBsb2FkaW5nIGZvbnQhIFlvdXIgZm9udCAke2ZvbnREZXNjcmlwdG9yWydmb250LWZhbWlseSddfSB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zYCk7XG4gICAgfTt9XG5cbiAgICAgc3RhdGljIGxvYWRGcm9tQ1NTKHJlc291cmNlKSBcbiAgICB7XG4gICAgICAgIGNvbnN0IG5ld0xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG5cbiAgICAgICAgbmV3TGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgICAgIG5ld0xpbmsudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgICAgIG5ld0xpbmsuaHJlZiA9IHJlc291cmNlLnVybDtcblxuICAgICAgICAvLyBhcHBlbmQgdG8gaGVhZFxuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld0xpbmspO1xuXG4gICAgICAgIC8vIHBhcnNlIHRoZSBjc3NcbiAgICAgICAgY29uc3QgYWxsRm9udHMgPSBwYXJzZUNzcyhyZXNvdXJjZS5kYXRhKTtcblxuICAgICAgICAvLyBtYWtlIHRoZSBvdXRwdXRzXG4gICAgICAgIGNvbnN0IHByb21pc2VBcnIgPSBbXTtcbiAgICAgICAgY29uc3QgZm9udERlZmluaXRpb25BcnIgPSBbXTtcblxuICAgICAgICBjb25zdCB0ZXN0U3RyaW5nID0gX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXyA9PiBfLm1ldGFkYXRhLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMiA9PiBfMi5mb250LCAnb3B0aW9uYWxBY2Nlc3MnLCBfMyA9PiBfMy50ZXN0U3RyaW5nXSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBfbnVsbGlzaENvYWxlc2NlKF9vcHRpb25hbENoYWluKFtyZXNvdXJjZSwgJ2FjY2VzcycsIF80ID0+IF80Lm1ldGFkYXRhLCAnb3B0aW9uYWxBY2Nlc3MnLCBfNSA9PiBfNS5mb250LCAnb3B0aW9uYWxBY2Nlc3MnLCBfNiA9PiBfNi50aW1lb3V0XSksICgpID0+ICggcmVzb3VyY2UudGltZW91dCkpO1xuXG4gICAgICAgIGZvciAoY29uc3QgZm9udCBvZiBhbGxGb250cylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmb250LnN0eWxlWydmb250LWZhbWlseSddID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBhZGQgd2F0Y2hmYWNlIHByb21pc2VzXG4gICAgICAgICAgICAgICAgcHJvbWlzZUFyci5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBXZWJmb250TG9hZGVyUGx1Z2luLndhaXRGb250KGZvbnQuc3R5bGUsIHRlc3RTdHJpbmcsIHRpbWVvdXQpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8vIG1ha2UgdGhlIGxvYWRlZCBmb250IGRhdGEgZm9yIGxhdGVyIHVzZXIgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgZm9udERlZmluaXRpb25BcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IGZvbnQuc3R5bGVbJ2ZvbnQtZmFtaWx5J10ucmVwbGFjZSgvWyd8XCJdL2dpLCAnJyksXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogZm9udC5zdHlsZVsnZm9udC1zdHlsZSddLFxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBmb250LnN0eWxlWydmb250LXdlaWdodCddLFxuICAgICAgICAgICAgICAgICAgICAvLyBmb250U3RyZXRjaDogZm9udC5zdHlsZVtcImZvbnQtc3RyZXRjaFwiXSwgLy9waXhpIGRvZXNuJ3Qga25vdyB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9yZSB0aGUgZm9udHMgdGhhdCB3ZSBsb2FkZWRcbiAgICAgICAgcmVzb3VyY2Uuc3R5bGVzID0gZm9udERlZmluaXRpb25BcnI7XG5cbiAgICAgICAgLy8gd2FpdCBmb3IgYWxsIGZvbnRzIHRvIGJlIHJlYWR5XG4gICAgICAgIC8vIHVzZSBmaW5hbGx5IGJlY2F1c2UgbG9hZGVycyBpbiBwaXhpIEFMV0FZUyBlbmQuIEV2ZW4gb24gY2F0YXN0cm9waGljIGZhaWx1cmVzLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycik7XG4gICAgfVxuXG4gICAgIHN0YXRpYyBsb2FkRnJvbUJ1ZmZlcihyZXNvdXJjZSkgXG4gICAge1xuICAgICAgICAvLyBJZiB5b3UgZG9uJ3Qgc3BlY2lmeSBhIGZhbWlseSBuYW1lIHRoZSByZXNvdXJjZSBuYW1lIGlzIHVzZWRcbiAgICAgICAgY29uc3QgZm9udEZhbWlseSA9IF9udWxsaXNoQ29hbGVzY2UoX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXzcgPT4gXzcubWV0YWRhdGEsICdvcHRpb25hbEFjY2VzcycsIF84ID0+IF84LmZvbnQsICdvcHRpb25hbEFjY2VzcycsIF85ID0+IF85LmZhbWlseV0pLCAoKSA9PiAoIHJlc291cmNlLm5hbWUpKTtcblxuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGRvY3VtZW50XG4gICAgICAgIGRvY3VtZW50LmZvbnRzLmFkZChuZXcgRm9udEZhY2UoZm9udEZhbWlseSwgcmVzb3VyY2UuZGF0YSwgX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXzEwID0+IF8xMC5tZXRhZGF0YSwgJ29wdGlvbmFsQWNjZXNzJywgXzExID0+IF8xMS5mb250XSkpKTtcblxuICAgICAgICAvLyBBZGQgdGhlIHN0eWxlIGRlc2NyaXB0b3IgKEkgZG9uJ3QgdGhpbmsgbm9ib2R5IGV2ZXIgdXNlZCB0aGlzLi4uKVxuICAgICAgICByZXNvdXJjZS5zdHlsZXMgPSBbe1xuICAgICAgICAgICAgZm9udEZhbWlseTogZm9udEZhbWlseS5yZXBsYWNlKC9bJ3xcIl0vZ2ksICcnKSxcbiAgICAgICAgICAgIGZvbnRTdHlsZTogX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXzEyID0+IF8xMi5tZXRhZGF0YSwgJ29wdGlvbmFsQWNjZXNzJywgXzEzID0+IF8xMy5mb250LCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTQgPT4gXzE0LnN0eWxlXSksXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBfb3B0aW9uYWxDaGFpbihbcmVzb3VyY2UsICdhY2Nlc3MnLCBfMTUgPT4gXzE1Lm1ldGFkYXRhLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTYgPT4gXzE2LmZvbnQsICdvcHRpb25hbEFjY2VzcycsIF8xNyA9PiBfMTcud2VpZ2h0XSksXG4gICAgICAgICAgICAvLyBmb250U3RyZXRjaDogZm9udC5zdHlsZVtcImZvbnQtc3RyZXRjaFwiXSwgLy9waXhpIGRvZXNuJ3Qga25vdyB0aGlzXG4gICAgICAgIH0gXTtcblxuICAgICAgICAvLyBVc3VhbGx5IHRoaXMgcmVzb2x2ZXMgaW5zdGFudGx5IGJlY2F1c2Ugd2UgaGFkIHRoZSBidWZmZXIgaW4gcmVzb3VyY2UuZGF0YVxuICAgICAgICByZXR1cm4gV2ViZm9udExvYWRlclBsdWdpbi53YWl0Rm9udChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnZm9udC1mYW1pbHknOiBmb250RmFtaWx5LFxuICAgICAgICAgICAgICAgICdmb250LXN0cmV0Y2gnOiBfb3B0aW9uYWxDaGFpbihbcmVzb3VyY2UsICdhY2Nlc3MnLCBfMTggPT4gXzE4Lm1ldGFkYXRhLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTkgPT4gXzE5LmZvbnQsICdvcHRpb25hbEFjY2VzcycsIF8yMCA9PiBfMjAuc3RyZXRjaF0pLFxuICAgICAgICAgICAgICAgICdmb250LXN0eWxlJzogX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXzIxID0+IF8yMS5tZXRhZGF0YSwgJ29wdGlvbmFsQWNjZXNzJywgXzIyID0+IF8yMi5mb250LCAnb3B0aW9uYWxBY2Nlc3MnLCBfMjMgPT4gXzIzLnN0eWxlXSksXG4gICAgICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXzI0ID0+IF8yNC5tZXRhZGF0YSwgJ29wdGlvbmFsQWNjZXNzJywgXzI1ID0+IF8yNS5mb250LCAnb3B0aW9uYWxBY2Nlc3MnLCBfMjYgPT4gXzI2LndlaWdodF0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3Jlc291cmNlLCAnYWNjZXNzJywgXzI3ID0+IF8yNy5tZXRhZGF0YSwgJ29wdGlvbmFsQWNjZXNzJywgXzI4ID0+IF8yOC5mb250LCAnb3B0aW9uYWxBY2Nlc3MnLCBfMjkgPT4gXzI5LnRlc3RTdHJpbmddKSwgX251bGxpc2hDb2FsZXNjZShfb3B0aW9uYWxDaGFpbihbcmVzb3VyY2UsICdhY2Nlc3MnLCBfMzAgPT4gXzMwLm1ldGFkYXRhLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMzEgPT4gXzMxLmZvbnQsICdvcHRpb25hbEFjY2VzcycsIF8zMiA9PiBfMzIudGltZW91dF0pLCAoKSA9PiAoIHJlc291cmNlLnRpbWVvdXQpKSk7XG4gICAgfVxufSBXZWJmb250TG9hZGVyUGx1Z2luLl9faW5pdFN0YXRpYygpOyBXZWJmb250TG9hZGVyUGx1Z2luLl9faW5pdFN0YXRpYzIoKTtcblxuZXhwb3J0IHsgV2ViZm9udExvYWRlclBsdWdpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS13ZWJmb250LWxvYWRlci5lcy5qcy5tYXBcbiIsImltcG9ydCB7IFdlYmZvbnRMb2FkZXJQbHVnaW4gfSBmcm9tIFwiLi9waXhpLXdlYmZvbnQtbG9hZGVyLmVzXCJcblxuUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oV2ViZm9udExvYWRlclBsdWdpbilcblxuY2xhc3MgRm9udExvYWRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvL+mmluasoeS9v+eUqOaehOmAoOWZqOWunuS+i1xuICAgIGlmICghRm9udExvYWRlci5pbnN0YW5jZSkge1xuICAgICAgdGhpcy5fbG9hZGVkID0gZmFsc2VcblxuICAgICAgLy/lsIZ0aGlz5oyC6L295YiwU2luZ2xldG9uQXBwbGXov5nkuKrnsbvnmoRpbnN0YW5jZeWxnuaAp+S4ilxuICAgICAgRm9udExvYWRlci5pbnN0YW5jZSA9IHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gRm9udExvYWRlci5pbnN0YW5jZVxuICB9XG5cbiAgZ2V0IG9uQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uQ29tcGxldGVcbiAgfVxuXG4gIHNldCBvbkNvbXBsZXRlKGZuKSB7XG4gICAgdGhpcy5fb25Db21wbGV0ZSA9IGZuXG4gIH1cblxuICBnZXQgbG9hZGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2FkZWRcbiAgfVxuXG4gIGdldCBmb250cygpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBmb250TmFtZTogXCJCbHVlIFNreSBOb3RvLUJvbGRcIixcbiAgICAgICAgZm9udEZpbGU6IFwiL2Fzc2V0cy9mb250L21pbi9CbHVlLVNreS1Ob3RvLUJvbGQub3RmXCIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmb250TmFtZTogXCJCbHVlIFNreSBOb3RvLUxpZ2h0XCIsXG4gICAgICAgIGZvbnRGaWxlOiBcIi9hc3NldHMvZm9udC9taW4vQmx1ZS1Ta3ktTm90by1MaWdodC5vdGZcIixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGZvbnROYW1lOiBcIkJsdWUgU2t5IE5vdG8tUmVndWxhclwiLFxuICAgICAgICBmb250RmlsZTogXCIvYXNzZXRzL2ZvbnQvbWluL0JsdWUtU2t5LU5vdG8tUmVndWxhci5vdGZcIixcbiAgICAgIH0sXG4gICAgXVxuICB9XG5cbiAgYWRkVGV4dChwYXJlbnQsIHRleHQpIHtcbiAgICBpZiAodGhpcy5fdGV4dHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fdGV4dHMgPSBbXVxuICAgIH1cblxuICAgIHRoaXMuX3RleHRzLnB1c2goW3BhcmVudCwgdGV4dF0pXG4gIH1cblxuICBnZXQgdGV4dHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RleHRzXG4gIH1cblxuICBsb2FkKCkge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5fbG9hZGVkID0gdHJ1ZVxuXG4gICAgICBpZiAodGhpcy5fb25Db21wbGV0ZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX29uQ29tcGxldGUgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5mb250cy5mb3JFYWNoKChmKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgZm9udCgke2YuZm9udE5hbWV9OiAke2YuZm9udEZpbGV9KSBhZGQuYClcbiAgICAgIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoe1xuICAgICAgICBuYW1lOiBmLmZvbnROYW1lLFxuICAgICAgICB1cmw6IGYuZm9udEZpbGUsXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBQSVhJLkxvYWRlci5zaGFyZWQub25Db21wbGV0ZS5hZGQoY2FsbGJhY2suYmluZCh0aGlzKSlcbiAgICBQSVhJLkxvYWRlci5zaGFyZWQubG9hZCgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEZvbnRMb2FkZXIoe30pXG4iLCJpbXBvcnQgQXBwbGljYXRpb24gZnJvbSBcIi4vYXBwbGljYXRpb25cIlxuaW1wb3J0IFNjaGVkdWxlIGZyb20gXCIuL3NjaGVkdWxlXCJcbmltcG9ydCBUb29sYmFyQ29udGFpbmVyIGZyb20gXCIuL2NvbnRyb2wvdG9vbGJhclwiXG5pbXBvcnQgRm9udHMgZnJvbSBcIi4vdXRpbHMvZm9udFwiXG5cbmlmICghREVCVUcpIHtcbiAgUElYSS51dGlscy5za2lwSGVsbG8oKVxufVxuXG5sZXQgYXBwID0gbnVsbFxubGV0IHN0YWdlID0gbnVsbFxuY29uc3QgY29udGVudCA9IHtcbiAgaWQ6IG51bGwsXG4gIGxhbmc6IG51bGwsXG59XG5cbmNvbnN0IGluaXQgPSAoZSkgPT4ge1xuICBjb25zb2xlLmxvZyhcImFwcCB3aW5kb3cubG9jYXRpb24uc2VhcmNoOiBcIiwgd2luZG93LmxvY2F0aW9uLnNlYXJjaClcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaClcbiAgaWYgKCFzZWFyY2hQYXJhbXMuaGFzKFwiaWRcIikpIHtcbiAgICBjb25zb2xlLmVycm9yKFwidGV4dHVyZSBpZCBub3QgZXhpc3RzLlwiKVxuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKCFzZWFyY2hQYXJhbXMuaGFzKFwibGFuZ1wiKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJ0ZXh0dXJlIGxhbmcgbm90IGV4aXN0cy5cIilcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldChcImlkXCIpXG4gIGNvbnN0IGxhbmcgPSBzZWFyY2hQYXJhbXMuZ2V0KFwibGFuZ1wiKVxuXG4gIHJlbmRlcihpZCwgbGFuZylcbn1cblxuY29uc3QgbG9hZCA9IChpZCwgbGFuZykgPT4ge1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBvbmNlOiB0cnVlLFxuICB9XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibG9hZFwiLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZXM6IFwiLCBHYW1lcylcbiAgICAgIEdhbWVzLnJlbmRlcihpZCwgbGFuZylcbiAgICB9LFxuICAgIG9wdGlvbnNcbiAgKVxufVxuXG5jb25zdCByZW5kZXIgPSAoaWQsIGxhbmcpID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnQoKVxuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb250ZW50LmlkID0gaWRcbiAgY29udGVudC5sYW5nID0gbGFuZ1xuICBsb2FkRm9udHMoKCkgPT4ge1xuICAgIGFwcEluaXQoKVxuICAgIGxvYWRDb250ZW50KClcbiAgfSlcbn1cblxuY29uc3QgbG9hZEZvbnRzID0gKGNhbGxiYWNrKSA9PiB7XG4gIGlmIChGb250cy5sb2FkZWQpIHtcbiAgICBjYWxsYmFjaygpXG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBlbGVtZW50ID0gZ2V0RWxlbWVudCgpXG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIEZvbnRzLm9uQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgY2FsbGJhY2soKVxuICB9XG5cbiAgRm9udHMubG9hZCgpXG59XG5cbmNvbnN0IGdldEVsZW1lbnQgPSAoKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjZWVuXCIpXG4gIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IGFwcEluaXQgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiYXBwIGluaXRcIilcblxuICBjb25zdCBlbGVtZW50ID0gZ2V0RWxlbWVudCgpXG5cbiAgaWYgKGFwcCA9PSBudWxsKSB7XG4gICAgYXBwID0gbmV3IEFwcGxpY2F0aW9uKHtcbiAgICAgIHdpZHRoOiBTQ0VORV9TSVpFLndpZHRoLFxuICAgICAgaGVpZ2h0OiBTQ0VORV9TSVpFLmhlaWdodCxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgfSlcbiAgfVxuXG4gIGlmIChzdGFnZSA9PSBudWxsKSB7XG4gICAgc3RhZ2UgPSBhcHAuc3RhZ2VcbiAgfVxuXG4gIGlmIChhcHAgPT0gbnVsbCB8fCBzdGFnZSA9PSBudWxsKSB7XG4gICAgY29uc29sZS5lcnJvcihcImFwcCBpbml0LCBhcHAgc3RhZ2UgZWxlbWVudDogXCIsIGFwcCwgc3RhZ2UsIGVsZW1lbnQpXG4gICAgcmV0dXJuXG4gIH1cblxuICBlbGVtZW50LmlubmVySFRNTCA9IFwiXCJcbiAgZWxlbWVudC5hcHBlbmRDaGlsZChhcHAudmlldylcbn1cblxuY29uc3QgbG9hZENvbnRlbnQgPSAoKSA9PiB7XG4gIGNvbnN0IHVybCA9IGAvYXNzZXRzL3BhZ2VzLyR7Y29udGVudC5pZH0vcGMvJHtjb250ZW50Lmxhbmd9L3RleHR1cmUuanNvbmBcbiAgY29uc29sZS5sb2coXCJsb2FkIHRleHVyZSB1cmw6IFwiLCB1cmwpXG4gIGNvbnN0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHtcbiAgICBiYXNlVVJMOiBcIi9cIixcbiAgfSlcblxuICBheGlvcy5nZXQodXJsKS50aGVuKGxvYWRJdGVtcylcbn1cblxuY29uc3Qgc2V0QmFja2dyb3VuZENvbG9yID0gKGNvbG9yKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiYmFja2dyb3VuZC1jb2xvcjogXCIsIGNvbG9yKVxuICBjb25zdCBkb21zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNvbnRhaW5lclwiKVxuICBjb25zb2xlLmxvZyhcImRvbXM6IFwiLCBkb21zKVxuICBpZiAoZG9tcy5sZW5ndGggPiAwKSB7XG4gICAgZG9tcy5pdGVtKDApLnN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXSA9IGNvbG9yLnN0YXJ0c1dpdGgoXCIjXCIpXG4gICAgICA/IGNvbG9yXG4gICAgICA6IGAjJHtjb2xvcn1gXG4gIH1cbn1cblxuY29uc3QgbG9hZEl0ZW1zID0gKHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHRleHR1cmUgPSByZXNwb25zZS5kYXRhXG4gIGNvbnNvbGUubG9nKFwibG9hZCB0ZXh0dXJlIHJlc3BvbnNlOiBcIiwgdGV4dHVyZSlcblxuICBzdGFnZS5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiB7XG4gICAgc3RhZ2UucmVtb3ZlQ2hpbGQoYylcbiAgfSlcblxuICB2YXIgc2NlZW4gPSBuZXcgUElYSS5Db250YWluZXIoKVxuICBzY2Vlbi54ID0gMFxuICBzY2Vlbi55ID0gMFxuICBzdGFnZS5hZGRDaGlsZChzY2VlbilcblxuICBjb25zdCBzY2hlID0gbmV3IFNjaGVkdWxlKHtcbiAgICBjb250ZW50X2lkOiB0ZXh0dXJlLmlkLFxuICB9KVxuXG4gIGlmIChcbiAgICB0ZXh0dXJlLnN0eWxlICE9PSB1bmRlZmluZWQgJiZcbiAgICB0ZXh0dXJlLnN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXSAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHNldEJhY2tncm91bmRDb2xvcih0ZXh0dXJlLnN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXSlcbiAgfSBlbHNlIGlmIChcbiAgICB0ZXh0dXJlLmNvbnRlbnQgIT0gdW5kZWZpbmVkICYmXG4gICAgdGV4dHVyZS5jb250ZW50LmJnY29sb3IgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBzZXRCYWNrZ3JvdW5kQ29sb3IodGV4dHVyZS5jb250ZW50LmJnY29sb3IpXG4gIH0gZWxzZSB7XG4gICAgc2V0QmFja2dyb3VuZENvbG9yKFwiI2ZmZlwiKVxuICB9XG5cbiAgaWYgKFxuICAgIHRleHR1cmUgPT09IG51bGwgfHxcbiAgICB0ZXh0dXJlLmZyYW1lcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgdGV4dHVyZS5mcmFtZXMgPT0gbnVsbCB8fFxuICAgIHRleHR1cmUuZnJhbWVzLmxlbmd0aCA8PSAwXG4gICkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdGV4dHVyZS5sYW5nID0gY29udGVudC5sYW5nXG4gIGNvbnNvbGUubG9nKFwidGV4dHVyZS5mcmFtZXM6IFwiLCB0ZXh0dXJlLmZyYW1lcylcbiAgc2NlZW4uY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4ge1xuICAgIHNjZWVuLnJlbW92ZUNoaWxkKGMpXG4gIH0pXG5cbiAgdGV4dHVyZS5mcmFtZXMuZm9yRWFjaCgoZnJhbWUpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBhcHAgbG9hZCBmcmFtZSwgdGV4dHVyZSBpZDogJHt0ZXh0dXJlLmlkfSwgZnJhbWUgaWQ6JHtcbiAgICAgICAgZnJhbWUuaWRcbiAgICAgIH0sIGNvbnRlbnQ6JHtKU09OLnN0cmluZ2lmeShmcmFtZS5jb250ZW50KX1gXG4gICAgKVxuXG4gICAgc2NoZS5wdXNoKHtcbiAgICAgIHNjZWVuOiBzY2VlbixcbiAgICAgIGZyYW1lOiBmcmFtZSxcbiAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgfSlcbiAgfSlcblxuICBjb25zb2xlLmxvZyhcImFwcCB0d2VlbiBpbnRlcmFjdGl2ZSBzZXR0aW5nOiBcIiwgc2NlZW4uaW50ZXJhY3RpdmUpXG4gIGFwcC5zdGFnZS5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgY29uc29sZS5sb2coXCJhcHAgdHdlZW4gaW50ZXJhY3RpdmUgc2V0dGluZzogXCIsIHNjZWVuLmludGVyYWN0aXZlKVxuXG4gIGlmICh3aW5kb3cuZ2FtZS5jb21wbGV0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKFxuICAgICAgc2NoZS50d2VlbnMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgQXJyYXkuaXNBcnJheShzY2hlLnR3ZWVucykgJiZcbiAgICAgIHNjaGUudHdlZW5zLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHNjaGUudHdlZW5zW3NjaGUudHdlZW5zLmxlbmd0aCAtIDFdLnR3ZWVuLmNhbGwoKCkgPT4ge1xuICAgICAgICB3aW5kb3cuZ2FtZS5jb21wbGV0ZSh7XG4gICAgICAgICAgc2NlZW46IHNjZWVuLFxuICAgICAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuZ2FtZS5jb21wbGV0ZSh7XG4gICAgICAgIHNjZWVuOiBzY2VlbixcbiAgICAgICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYXBwLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb24ub24oXCJwb2ludGVyZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChcbiAgICAgIHNjaGUgPT09IG51bGwgfHxcbiAgICAgIHNjaGUudHdlZW5zID09PSB1bmRlZmluZWQgfHxcbiAgICAgIEFycmF5LmlzQXJyYXkoc2NoZSkgfHxcbiAgICAgIHNjaGUudHdlZW5zLmxlbmd0aCA9PT0gMFxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgdHdlZW5zID0gc2NoZS50d2VlbnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcImFwcCB0d2VlbiBjdXJyZW50IGxhYmxlOiBcIiwgdC50d2Vlbi5jdXJyZW50TGFiZWwpXG4gICAgICByZXR1cm4gdC50d2Vlbi5jdXJyZW50TGFiZWwgIT09IFwibGFzdFwiXG4gICAgfSlcblxuICAgIGlmICh0d2VlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAod2luZG93LmdhbWUuY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgd2luZG93LmdhbWUuY29tcGxldGUoe1xuICAgICAgICBzY2Vlbjogc2NlZW4sXG4gICAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0gdHdlZW5zWzBdLm9wdGlvbnNcbiAgICBjb25zdCB0d2VlbiA9IHR3ZWVuc1swXS50d2VlblxuXG4gICAgY29uc29sZS5sb2coXCJhcHAgdHdlZW5zIGxlbmd0aDogXCIsIHNjaGUudHdlZW5zLmxlbmd0aClcbiAgICBjb25zb2xlLmxvZyhcImFwcCB0d2VlbiBzdG9wOiBcIiwgdHdlZW4pXG4gICAgY29uc29sZS5sb2coXCJhcHAgdHdlZW4gb3B0aW9uczogXCIsIG9wdGlvbnMpXG4gICAgY29uc29sZS5sb2coXCJhcHAgdHdlZW4gb3B0aW9ucyB0YXJnZXQ6IFwiLCBvcHRpb25zLnRhcmdldClcbiAgICBjb25zb2xlLmxvZyhcImFwcCB0d2VlbiB0d2VlbjogXCIsIHR3ZWVuKVxuXG4gICAgdHdlZW4uZ290b0FuZFN0b3AoXCJsYXN0XCIpXG5cbiAgICBvcHRpb25zLnRhcmdldC5hbHBoYSA9IDFcblxuICAgIGNvbnNvbGUubG9nKFwiYXBwIHR3ZWVucyBzbGljZSBhZnRlciBsZW5ndGg6IFwiLCBzY2hlLnR3ZWVucy5sZW5ndGgpXG4gIH0pXG5cbiAgaWYgKERFQlVHKSB7XG4gICAgc3RhZ2UuYWRkQ2hpbGQoXG4gICAgICBuZXcgVG9vbGJhckNvbnRhaW5lcih7XG4gICAgICAgIHNjaGU6IHNjaGUsXG4gICAgICAgIHNjZWVuOiBzY2VlbixcbiAgICAgICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICAgIH0pXG4gICAgKVxuICB9XG59XG5cbndpbmRvdy5nYW1lID0ge1xuICBpbml0OiBpbml0LFxuICByZW5kZXI6IHJlbmRlcixcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICByZW5kZXI6IHJlbmRlcixcbiAgaW5pdDogaW5pdCxcbiAgbG9hZDogbG9hZCxcbn1cbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJBcHBsaWNhdGlvbiIsIlBJWEkiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3VwZXIiLCJ3aWR0aCIsImhlaWdodCIsImFudGlhbGlhcyIsInRyYW5zcGFyZW50IiwicmVzb2x1dGlvbiIsInJvdW5kUGl4ZWxzIiwiY29uc29sZSIsImxvZyIsInV0aWxzIiwiaXNNb2JpbGUiLCJpc1dlYkdMU3VwcG9ydGVkIiwidXJsIiwidGhpcyIsInJlbmRlcmVyIiwidmlldyIsInN0eWxlIiwicG9zaXRpb24iLCJkaXNwbGF5IiwibWFyZ2luIiwiYXV0b1Jlc2l6ZSIsInN0YWdlIiwic29ydGFibGVDaGlsZHJlbiIsInJlc2l6ZSIsInJhdGlvIiwiU0NFTkVfU0laRSIsInZ3IiwiTWF0aCIsIm1heCIsImVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJvZmZzZXRXaWR0aCIsInZoIiwiY2xpZW50SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ3aW5kb3ciLCJvbnJlc2l6ZSIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiVHdlZW5BY3Rpb24iLCJvcHRpb25zIiwiX29wdGlvbnMiLCJfdHdlZW4iLCJjcmVhdGVqcyIsIlR3ZWVuIiwidGFyZ2V0IiwibG9vcCIsInVuZGVmaW5lZCIsInJ1biIsInR3ZWVuIiwiZnJhbWUiLCJpZCIsInR3ZWVucyIsInRvIiwiQXJyYXkiLCJpc0FycmF5IiwicCIsImFscGhhIiwid2FpdCIsIk51bWJlciIsImlzSW50ZWdlciIsImZvckVhY2giLCJ0IiwicyIsIkVhc2UiLCJnZXRQb3dJbk91dCIsImxhYmVsIiwiY29tcGxldGUiLCJkZWZhdWx0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRpdGxlIiwidGV4dCIsImxpbmVIZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwiZmlsbCIsIkJhc2VVcmwiLCJsYW5nIiwiRHJhd2luZyIsIkdyYXBoaWNzIiwiZHJhd2luZ3MiLCJlbCIsImRyYXciLCJjIiwibWV0aG9kIiwiYXJncyIsInYiLCJpIiwidGVzdCIsInBhcnNlSW50IiwiUmVmbGVjdCIsImFwcGx5IiwiZCIsImJlZ2luRmlsbCIsImNvbG9yIiwiZHJhd2luZyIsImVuZEZpbGwiLCJlIiwiU3ByaXRlIiwiQ29udGFpbmVyIiwiYWRkQ29udGVudCIsImdldFN0eWxlIiwidHlwZSIsIlRleHRTdHlsZXMiLCJyZWxvYWRDb250ZW50IiwiY2hpbGRyZW4iLCJwYXJlbnQiLCJyZW1vdmVDaGlsZCIsIm5hbWUiLCJ4IiwieSIsIml0ZW1zIiwiY29udGVudCIsIml0ZW0iLCJwdXNoIiwiYWRkSXRlbXMiLCJhcHBsZSIsImRldmljZSIsIlRleHQiLCJUZXh0U3R5bGUiLCJhZGRDaGlsZCIsInBhcmFtcyIsImJhc2VfdXJsIiwidGV4dHVyZSIsImNyZWF0ZUFuaW1hdGVkU3ByaXRlIiwibG9hZEltYWdlVGV4dHVyZSIsInNwcml0ZSIsInNldHRpbmciLCJhc3NpZ24iLCJyYW5nZSIsImxvYWRlciIsIkxvYWRlciIsInRleHR1cmVzIiwic3RhcnQiLCJlbmQiLCJhZGQiLCJsb2FkIiwib25Db21wbGV0ZSIsInJlc291cmNlcyIsImtleXMiLCJrIiwiQW5pbWF0ZWRTcHJpdGUiLCJiYXNlX3RleHR1cmUiLCJiYXNlVGV4dHVyZSIsImFuaW1hdGlvblNwZWVkIiwicGxheSIsIkJhc2VUZXh0dXJlIiwiY3JlYXRlU3ByaXRlIiwiY3JlYXRlSW1hZ2VTcHJpdGUiLCJoYXNMb2FkZWQiLCJUZXh0dXJlIiwib24iLCJmbG93IiwiaW50ZXJhY3RpdmUiLCJsb2NhdGlvbiIsImhyZWYiLCJzb3VyY2VTaXplIiwidyIsImgiLCJzY2FsZSIsInNldCIsImxlbmd0aCIsIkRyYWdnaW5nIiwiSlNPTiIsInBhcnNlIiwiU2NoZWR1bGUiLCJjb250ZW50X2lkIiwiX3R3ZWVucyIsInZhbCIsInNwcml0ZV9leGlzdGluZyIsInNjZWVuIiwiZmluZCIsImZpbHRlciIsInR3ZWVuX29wdGlvbnMiLCJhbmltYXRpb24iLCJMb2FkZXJSZXNvdXJjZSIsInBhcnNlUnVsZSIsImNzcyIsInRva2VuaXplciIsInRva2VuIiwiZXhlYyIsInRvTG93ZXJDYXNlIiwic3RyaW5naWZ5UnVsZSIsInNvcnQiLCJzdWJzdHJpbmciLCJfbnVsbGlzaENvYWxlc2NlIiwibGhzIiwicmhzRm4iLCJfb3B0aW9uYWxDaGFpbiIsIm9wcyIsImxhc3RBY2Nlc3NMSFMiLCJvcCIsImZuIiwiV2ViZm9udExvYWRlclBsdWdpbiIsInN1cHBvcnRlZEZvbnRFeHRlbnNpb25zIiwiX3BhcmFtcyIsImRvY3VtZW50IiwiZm9udHMiLCJGb250RmFjZSIsIlByb21pc2UiLCJFcnJvciIsInNldEV4dGVuc2lvbkxvYWRUeXBlIiwiTE9BRF9UWVBFIiwiWEhSIiwic2V0RXh0ZW5zaW9uWGhyVHlwZSIsIlhIUl9SRVNQT05TRV9UWVBFIiwiVEVYVCIsIkJVRkZFUiIsImV4dCIsInJlc291cmNlIiwibmV4dCIsImV4dGVuc2lvbiIsImVuZHNXaXRoIiwibG9hZEZyb21DU1MiLCJmaW5hbGx5Iiwic29tZSIsImxvYWRGcm9tQnVmZmVyIiwid2FpdEZvbnQiLCJhc3luYyIsImZvbnREZXNjcmlwdG9yIiwidGVzdFN0cmluZyIsInRpbWVvdXQiLCJmb250U3R5bGUiLCJmb250U3RyZXRjaCIsIkluZmluaXR5Iiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJiYWNrVGhlbiIsIm1lcmdlZEZvbnRTdHlsZSIsImpvaW4iLCJsb2FkZWRGb250cyIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwid2FybiIsIm5ld0xpbmsiLCJjcmVhdGVFbGVtZW50IiwicmVsIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiYWxsRm9udHMiLCJydWxlcyIsInJ1bGUiLCJyZXBsYWNlIiwidHJpbSIsImNzc1RleHQiLCJzZWxlY3RvclRleHQiLCJwYXJzZUNzcyIsImRhdGEiLCJwcm9taXNlQXJyIiwiZm9udERlZmluaXRpb25BcnIiLCJfIiwibWV0YWRhdGEiLCJfMiIsImZvbnQiLCJfMyIsIl80IiwiXzUiLCJfNiIsInN0eWxlcyIsImFsbCIsIl83IiwiXzgiLCJfOSIsImZhbWlseSIsIl8xMCIsIl8xMSIsIl8xMiIsIl8xMyIsIl8xNCIsIl8xNSIsIl8xNiIsIl8xNyIsIndlaWdodCIsIl8xOCIsIl8xOSIsIl8yMCIsInN0cmV0Y2giLCJfMjEiLCJfMjIiLCJfMjMiLCJfMjQiLCJfMjUiLCJfMjYiLCJfMjciLCJfMjgiLCJfMjkiLCJfMzAiLCJfMzEiLCJfMzIiLCJfX2luaXRTdGF0aWMiLCJfX2luaXRTdGF0aWMyIiwicmVnaXN0ZXJQbHVnaW4iLCJGb250TG9hZGVyIiwiaW5zdGFuY2UiLCJfbG9hZGVkIiwiX29uQ29tcGxldGUiLCJsb2FkZWQiLCJmb250TmFtZSIsImZvbnRGaWxlIiwiYWRkVGV4dCIsIl90ZXh0cyIsInRleHRzIiwiZiIsInNoYXJlZCIsInNraXBIZWxsbyIsImFwcCIsImluaXQiLCJzZWFyY2giLCJzZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJoYXMiLCJlcnJvciIsInJlbmRlciIsImdldEVsZW1lbnQiLCJsb2FkRm9udHMiLCJhcHBJbml0IiwibG9hZENvbnRlbnQiLCJjYWxsYmFjayIsIkZvbnRzIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJheGlvcyIsImNyZWF0ZSIsImJhc2VVUkwiLCJ0aGVuIiwibG9hZEl0ZW1zIiwic2V0QmFja2dyb3VuZENvbG9yIiwiZG9tcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdGFydHNXaXRoIiwicmVzcG9uc2UiLCJzY2hlIiwiYmdjb2xvciIsImZyYW1lcyIsInN0cmluZ2lmeSIsImdhbWUiLCJwbHVnaW5zIiwiaW50ZXJhY3Rpb24iLCJjdXJyZW50TGFiZWwiLCJnb3RvQW5kU3RvcCIsIkdhbWVzIiwib25jZSJdLCJzb3VyY2VSb290IjoiIn0=